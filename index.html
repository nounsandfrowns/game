<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Word Randomizer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .hidden { display: none !important; }
    body { margin: 0; padding: 0; }
    #canvas { 
      touch-action: none; 
      cursor: crosshair;
      border: 2px solid #4E5987;
    }
  </style>
</head>
<body style="background-color: #D4E4DD;" class="min-h-screen p-4 md:p-8">
  <div class="max-w-6xl mx-auto" id="app">
    <h1 class="text-3xl md:text-4xl font-bold text-center mb-2" style="color: #4E5987;">Word Randomizer</h1>
    <p class="text-center text-gray-600 mb-8">For games with friends for fun</p>

    <!-- Lobby -->
    <div id="lobby">
      <div class="grid md:grid-cols-2 gap-6">
        <div class="rounded-lg shadow-md p-4 md:p-6" style="background-color: #F5E6D3;">
          <h2 class="text-xl md:text-2xl font-bold mb-4" style="color: #4E5987;">Create Room</h2>
          <input type="text" id="createPlayerName" placeholder="Your name" class="w-full px-4 py-2 mb-3 border rounded-lg" maxlength="20">
          <input type="password" id="createPassword" placeholder="Set password (min 4 chars)" class="w-full px-4 py-2 mb-4 border rounded-lg" minlength="4">
          <button onclick="createRoom()" class="w-full px-6 py-3 text-white rounded-lg font-semibold hover:opacity-90" style="background-color: #1EA7D8;">Create Room</button>
        </div>
        <div class="rounded-lg shadow-md p-4 md:p-6" style="background-color: #F5E6D3;">
          <h2 class="text-xl md:text-2xl font-bold mb-4" style="color: #4E5987;">Join Room</h2>
          <input type="text" id="joinPlayerName" placeholder="Your name" class="w-full px-4 py-2 mb-3 border rounded-lg" maxlength="20">
          <input type="text" id="joinRoomCode" placeholder="4-digit room code" class="w-full px-4 py-2 mb-3 border rounded-lg" maxlength="4">
          <input type="password" id="joinPassword" placeholder="Room password" class="w-full px-4 py-2 mb-4 border rounded-lg">
          <button onclick="joinRoom()" class="w-full px-6 py-3 text-white rounded-lg font-semibold hover:opacity-90" style="background-color: #E85987;">Join Room</button>
        </div>
      </div>
    </div>

    <!-- Game Room -->
    <div id="gameRoom" class="hidden">
      <div class="rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <div class="flex flex-col md:flex-row justify-between md:items-center gap-2">
          <div>
            <h2 class="text-lg md:text-xl font-semibold">Room: <span id="roomCodeDisplay" class="font-bold text-xl md:text-2xl" style="color: #1EA7D8;"></span></h2>
            <p class="text-sm text-gray-600">You are: <span id="currentPlayerName" class="font-semibold" style="color: #E85987;"></span></p>
          </div>
          <button onclick="leaveRoom()" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 w-full md:w-auto">Leave</button>
        </div>
      </div>

      <div class="rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <h3 class="font-semibold mb-4">Players in Room (<span id="playerCount">0</span>/12)</h3>
        <button onclick="randomizeTeams()" class="w-full px-6 py-2 text-white rounded-lg mb-4" style="background-color: #5E5394;">‚ö° Randomize Teams</button>
        <div id="adminScoreControls" class="hidden mb-4 flex gap-2">
          <button onclick="resetScores()" class="flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg text-sm">Reset All Scores</button>
        </div>
        <div id="playersList" class="space-y-2"></div>
      </div>

      <div class="rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <h3 class="font-semibold mb-2">Game Mode:</h3>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 mb-4">
          <button onclick="setGameMode('all_see')" id="mode_all_see" class="px-4 py-2 rounded-lg text-sm">Everyone Sees</button>
          <button onclick="setGameMode('team_alternate')" id="mode_team_alternate" class="px-4 py-2 rounded-lg text-sm">Team Alternating</button>
          <button onclick="setGameMode('random_player')" id="mode_random_player" class="px-4 py-2 rounded-lg text-sm">Random Player Excluded</button>
        </div>
        
        <div id="adminSettings" class="hidden mb-4 p-3 rounded-lg bg-yellow-50 border-2 border-yellow-300">
          <h4 class="font-semibold text-sm mb-2">‚öôÔ∏è Admin Settings</h4>
          <div class="space-y-2">
            <label class="flex items-center gap-2 cursor-pointer">
              <input type="checkbox" id="forceAnonymous" onclick="toggleAnonymousMode()" class="w-4 h-4">
              <span class="text-sm">Force anonymous submissions</span>
            </label>
            <div class="flex flex-wrap gap-2 items-center">
              <span class="text-sm font-medium">Default timer:</span>
              <button onclick="setDefaultTimer(30)" id="default_timer30" class="px-2 py-1 rounded text-xs bg-gray-200">30s</button>
              <button onclick="setDefaultTimer(60)" id="default_timer60" class="px-2 py-1 rounded text-xs bg-gray-200">60s</button>
              <button onclick="setDefaultTimer(90)" id="default_timer90" class="px-2 py-1 rounded text-xs bg-gray-200">90s</button>
              <button onclick="setDefaultTimer(120)" id="default_timer120" class="px-2 py-1 rounded text-xs bg-gray-200">120s</button>
            </div>
            <div class="flex gap-2 items-center pt-2">
              <button onclick="toggleTimer()" id="timerControlBtn" class="px-4 py-2 rounded text-sm text-white" style="background-color: #1EA7D8;">Start Timer</button>
              <button onclick="placeBets()" id="placeBetsBtn" class="px-4 py-2 rounded text-sm text-white" style="background-color: #E85987;">Place Bets!</button>
            </div>
          </div>
        </div>
        
        <h3 class="font-semibold mb-2">Word Categories:</h3>
        <div class="grid grid-cols-2 gap-2">
          <label class="flex items-center gap-2 cursor-pointer px-3 py-2 rounded-lg text-sm" style="background-color: #1b1531; color: white;">
            <input type="checkbox" id="cat_nouns" checked onclick="toggleCategory('nouns')">
            <span>Nouns</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer px-3 py-2 rounded-lg text-sm" style="background-color: #1b1531; color: white;">
            <input type="checkbox" id="cat_adjectives" checked onclick="toggleCategory('adjectives')">
            <span>Adjectives</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer px-3 py-2 rounded-lg text-sm" style="background-color: #1b1531; color: white;">
            <input type="checkbox" id="cat_fancy" onclick="toggleCategory('fancyWords')">
            <span>Fancy Words</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer px-3 py-2 rounded-lg text-sm" style="background-color: #1b1531; color: white;">
            <input type="checkbox" id="cat_famous" onclick="toggleCategory('famousPeople')">
            <span>Famous People</span>
          </label>
        </div>
      </div>

      <div class="text-center mb-6 rounded-lg shadow-md p-4 md:p-6" style="background-color: #F5E6D3;">
        <button onclick="generateWord()" class="w-full px-6 md:px-8 py-3 md:py-4 text-white rounded-lg text-lg md:text-xl font-semibold" style="background-color: #1EA7D8;">üé≤ Generate Word</button>
      </div>

      <div id="playersDisplay"></div>

      <!-- Answer Submission Area -->
      <div id="answerSection" class="hidden rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <h3 class="font-semibold mb-3">Don't have pen and paper? Write or draw your answer here:</h3>
        
        <div class="mb-3 flex flex-wrap gap-2 items-center">
          <button onclick="setAnswerMode('draw')" id="mode_draw" class="px-4 py-2 rounded text-sm" style="background-color: #5E5394; color: white;">üé® Draw</button>
          <button onclick="setAnswerMode('text')" id="mode_text" class="px-4 py-2 rounded text-sm bg-gray-200">‚úèÔ∏è Text</button>
          <span class="text-sm font-medium ml-auto">Timer:</span>
          <div id="timerDisplay" class="text-2xl font-bold" style="color: #E85987;">--</div>
        </div>

        <!-- Drawing Mode -->
        <div id="drawMode">
          <div class="mb-3 flex flex-wrap gap-2">
            <button onclick="setTool('pen')" id="tool_pen" class="px-3 py-1 rounded text-sm" style="background-color: #5E5394; color: white;">‚úèÔ∏è Pen</button>
            <button onclick="setTool('eraser')" id="tool_eraser" class="px-3 py-1 rounded text-sm bg-gray-200">üßπ Eraser</button>
            <button onclick="clearCanvas()" class="px-3 py-1 rounded text-sm bg-gray-200">üóëÔ∏è Clear</button>
            <input type="color" id="colorPicker" value="#000000" class="h-8 w-12 rounded">
            <input type="range" id="brushSize" min="1" max="20" value="3" class="flex-1 min-w-[100px]">
          </div>
          <canvas id="canvas" width="600" height="400" class="w-full bg-white rounded-lg mb-3"></canvas>
        </div>

        <!-- Text Mode -->
        <div id="textMode" class="hidden">
          <textarea id="textAnswer" placeholder="Type your answer here..." class="w-full h-64 p-4 border-2 rounded-lg mb-3 text-lg" style="border-color: #4E5987;"></textarea>
        </div>
        
        <div class="flex gap-2">
          <button onclick="submitAnswer()" id="submitBtn" class="flex-1 px-6 py-3 text-white rounded-lg font-semibold" style="background-color: #E85987;">Submit Answer</button>
          <div id="submissionStatus" class="flex-1 px-6 py-3 bg-gray-100 rounded-lg text-center font-medium text-gray-600">
            Waiting: <span id="submittedCount">0</span>/<span id="totalPlayers">0</span>
          </div>
        </div>
      </div>

      <!-- Answer Display Section -->
      <div id="answersSection" class="hidden rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <h3 class="font-semibold mb-3">Submitted Answers</h3>
        
        <div class="mb-4 flex flex-wrap gap-2">
          <span class="text-sm font-medium">Show to:</span>
          <button onclick="setAnswerVisibility('all')" id="vis_all" class="px-3 py-1 rounded text-sm bg-gray-200">All</button>
          <button onclick="setAnswerVisibility('active_team')" id="vis_active" class="px-3 py-1 rounded text-sm bg-gray-200">Active Team</button>
          <button onclick="setAnswerVisibility('waiting_team')" id="vis_waiting" class="px-3 py-1 rounded text-sm bg-gray-200">Waiting Team</button>
          <button onclick="setAnswerVisibility('excluded')" id="vis_excluded" class="px-3 py-1 rounded text-sm bg-gray-200">Excluded Player</button>
          <button onclick="showAnswers()" class="px-4 py-1 rounded text-sm text-white ml-auto" style="background-color: #1EA7D8;">üìñ Read Answers</button>
        </div>

        <div id="answersList" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
      </div>

      <!-- Betting Section -->
      <div id="bettingSection" class="hidden rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <h3 class="font-semibold mb-3">Place Your Bet!</h3>
        <p class="text-sm text-gray-600 mb-4">Navigate through answers and select which one you think matches the word best.</p>
        
        <div class="mb-4 flex justify-between items-center">
          <button onclick="prevAnswer()" class="px-4 py-2 rounded text-white" style="background-color: #5E5394;">‚Üê Previous</button>
          <span class="font-semibold">Answer <span id="currentAnswerIndex">1</span> of <span id="totalAnswers">0</span></span>
          <button onclick="nextAnswer()" class="px-4 py-2 rounded text-white" style="background-color: #5E5394;">Next ‚Üí</button>
        </div>

        <div id="currentAnswerDisplay" class="bg-white rounded-lg p-6 mb-4 min-h-[300px] flex items-center justify-center"></div>

        <button onclick="selectAnswer()" id="selectAnswerBtn" class="w-full px-6 py-3 text-white rounded-lg font-semibold text-lg" style="background-color: #E85987;">This One!</button>
        
        <div id="betStatus" class="hidden mt-4 p-3 bg-green-100 rounded-lg text-center">
          <p class="font-semibold text-green-800">‚úì Bet Placed!</p>
        </div>
      </div>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getDatabase, ref, set, onValue, update } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

    const firebaseConfig = {
      apiKey: "AIzaSyAtcCz7buZmEoLflrxKcf7vFYY3YOG5gdM",
      authDomain: "nounsandfrowns.firebaseapp.com",
      databaseURL: "https://nounsandfrowns-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "nounsandfrowns",
      storageBucket: "nounsandfrowns.firebasestorage.app",
      messagingSenderId: "948424078081",
      appId: "1:948424078081:web:8dcae9f01988fd8a7ca100"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    window.db = db;
    window.roomCode = null;
    window.currentPlayerId = null;
    window.currentPlayerName = null;
    window.roomAdminId = null;

    // Canvas setup
    let canvas, ctx;
    let drawing = false;
    let currentTool = 'pen';
    let currentColor = '#000000';
    let brushSize = 3;
    let timerInterval = null;
    let selectedTimer = 60;
    let timeRemaining = 0;
    let answerMode = 'draw';
    let timerRunning = false;
    let bettingAnswers = [];
    let currentBettingIndex = 0;

    // Word lists - this is where your window.WORDS = { starts
window.WORDS = {
      nouns: ['elephant', 'mountain', 'symphony', 'laboratory', 'adventure', 'telescope', 'cathedral', 'volcano', 'library', 'hurricane', 'galaxy', 'fortress', 'ocean', 'pyramid', 'metropolis', 'compass', 'desert', 'waterfall', 'monastery', 'carnival', 'labyrinth', 'meadow', 'archipelago', 'castle', 'valley', 'aurora', 'canyon', 'jungle', 'peninsula', 'sanctuary', 'butterfly', 'dragon', 'unicorn', 'phoenix', 'lighthouse', 'glacier', 'earthquake', 'tornado', 'avalanche', 'eclipse', 'comet', 'nebula', 'asteroid', 'satellite', 'rocket', 'submarine', 'helicopter', 'parachute', 'microscope', 'binoculars', 'airplane', 'automobile', 'bicycle', 'boat', 'bridge', 'building', 'candle', 'camera', 'castle', 'clock', 'computer', 'diamond', 'envelope', 'factory', 'fountain', 'garden', 'hammer', 'island', 'jungle', 'keyboard', 'ladder', 'mirror', 'notebook', 'palace', 'pencil', 'piano', 'pyramid', 'rainbow', 'sculpture', 'telescope', 'umbrella', 'violin', 'window', 'xylophone', 'zebra', 'airport', 'anchor', 'apple', 'armor', 'arrow', 'bakery', 'balloon', 'banner', 'barrel', 'basket', 'battery', 'beacon', 'bell', 'bench', 'blanket', 'bottle', 'bouquet', 'bowl', 'box', 'bracelet', 'briefcase', 'broom', 'bucket', 'button', 'cabinet', 'cage', 'calendar', 'campfire', 'canopy', 'canvas', 'carpet', 'carriage', 'chain', 'chandelier', 'chapel', 'chariot', 'chimney', 'circus', 'classroom', 'cliff', 'cloak', 'cloud', 'coat', 'coin', 'collar', 'crown', 'crystal', 'curtain', 'cushion', 'dagger', 'dome', 'dragon', 'drawbridge', 'drum', 'dungeon', 'eagle', 'earring', 'ember', 'engine', 'falcon', 'feather', 'fence', 'fireplace', 'flag', 'flame', 'flask', 'flute', 'forest', 'frame', 'furnace', 'gate', 'gem', 'globe', 'glove', 'goblet', 'gown', 'grain', 'granite', 'grave', 'greenhouse', 'guardian', 'guitar', 'harbor', 'harp', 'harvest', 'helmet', 'horizon', 'hourglass', 'idol', 'ink', 'ivory', 'jacket', 'jar', 'jewel', 'journal', 'kettle', 'king', 'knight', 'knot', 'lake', 'lamp', 'lance', 'lantern', 'latch', 'lawn', 'leaf', 'ledge', 'lens', 'lever', 'locket', 'loom', 'lute', 'mansion', 'map', 'marble', 'market', 'mask', 'mast', 'medal', 'melody', 'mine', 'moat', 'monument', 'moon', 'moss', 'mural', 'nest', 'necklace', 'needle', 'nest', 'oasis', 'obelisk', 'orb', 'orchard', 'organ', 'ornament', 'paddle', 'painting', 'panel', 'park', 'path', 'pavilion', 'pearl', 'pebble', 'pedestal', 'pendant', 'pier', 'pillar', 'pipe', 'pistol', 'pitcher', 'platform', 'plaza', 'poem', 'pond', 'portal', 'poster', 'pottery', 'pouch', 'powder', 'prism', 'prison', 'pulpit', 'puppet', 'quartz', 'quarry', 'queen', 'quill', 'quilt', 'raft', 'rail', 'ramp', 'ranch', 'ravine', 'razor', 'reef', 'relic', 'ribbon', 'ridge', 'ring', 'river', 'robe', 'rock', 'rod', 'roof', 'rope', 'rose', 'rug', 'ruins', 'runway', 'saber', 'saddle', 'sail', 'salon', 'sandal', 'sash', 'satchel', 'saucer', 'scepter', 'scroll', 'seal', 'seashell', 'shadow', 'shaft', 'shawl', 'shield', 'ship', 'shore', 'shrine', 'shuttle', 'sickle', 'silk', 'silo', 'skull', 'skyline', 'slate', 'sleeve', 'sling', 'slope', 'smoke', 'snow', 'socket', 'soil', 'spark', 'spear', 'sphere', 'spike', 'spine', 'spiral', 'sponge', 'spoon', 'spotlight', 'spring', 'square', 'stable', 'stage', 'staircase', 'stake', 'stallion', 'stamp', 'star', 'statue', 'steam', 'steel', 'steeple', 'stem', 'stone', 'storm', 'stream', 'summit', 'sundial', 'sunrise', 'sunset', 'surface', 'sword', 'table', 'tablet', 'tambourine', 'tapestry', 'tavern', 'temple', 'tent', 'terrace', 'throne', 'tide', 'tile', 'timber', 'tomb', 'torch', 'totem', 'tower', 'track', 'trail', 'train', 'treasure', 'tree', 'trench', 'triangle', 'tribute', 'trigger', 'trinket', 'tripod', 'trophy', 'trumpet', 'trunk', 'tunnel', 'turret', 'tusk', 'twilight', 'vase', 'vault', 'veil', 'vessel', 'village', 'vine', 'voyage', 'wagon', 'wall', 'wand', 'warehouse', 'warrior', 'watchtower', 'wave', 'weapon', 'web', 'well', 'wheat', 'wheel', 'whirlwind', 'wilderness', 'willow', 'wind', 'wing', 'winter', 'wire', 'wood', 'workshop', 'wreath', 'wreckage', 'yacht', 'yard', 'yarn', 'arch', 'arena', 'armchair', 'atlas', 'attic', 'avenue', 'axe', 'badge', 'barge', 'barn', 'basin', 'baton', 'bay', 'bead', 'beam', 'beast', 'belt', 'berry', 'blade', 'blizzard', 'bloom', 'blossom', 'board', 'boulder', 'boundary', 'branch', 'brass', 'breeze', 'brick', 'brochure', 'bronze', 'brook', 'bubble', 'bulb', 'bundle', 'buoy', 'bureau', 'bush', 'cabin', 'cable', 'caf√©', 'canal', 'canteen', 'cape', 'capsule', 'caravan', 'cargo', 'cartoon', 'cascade', 'casket', 'catalog', 'catapult', 'cave', 'ceiling', 'cellar', 'cement', 'center', 'ceremony', 'certificate', 'chamber', 'channel', 'chapter', 'charcoal', 'chart', 'chest', 'chip', 'chisel', 'chronicle', 'chute', 'circle', 'citadel', 'city', 'clasp', 'clay', 'clearing', 'cleft', 'clinic', 'cloister', 'closet', 'club', 'coach', 'cobweb', 'code', 'coffin', 'coil', 'column', 'comb', 'compound', 'concert', 'cone', 'continent', 'contract', 'copper', 'coral', 'cord', 'core', 'cork', 'corner', 'corridor', 'cosmos', 'costume', 'cottage', 'cotton', 'couch', 'council', 'counter', 'country', 'couple', 'coupon', 'course', 'court', 'cove', 'cover', 'crack', 'cradle', 'craft', 'crag', 'crane', 'crater', 'crate', 'crayon', 'cream', 'creature', 'creek', 'crest', 'crew', 'crop', 'cross', 'crossing', 'crucible', 'cruise', 'crust', 'crypt', 'cube', 'cup', 'cupboard', 'cure', 'current', 'curve', 'cycle', 'cylinder', 'dairy', 'dam', 'dance', 'deck', 'decree', 'deed', 'dell', 'delta', 'den', 'depot', 'depth', 'design', 'desk', 'device', 'dew', 'dial', 'diary', 'dice', 'dimension', 'diner', 'dinosaur', 'diploma', 'disc', 'dish', 'distance', 'ditch', 'dock', 'doctor', 'document', 'doll', 'dolphin', 'donkey', 'door', 'dormitory', 'dose', 'dot', 'dough', 'dove', 'draft', 'drain', 'drama', 'drape', 'drawer', 'drawing', 'dream', 'dress', 'drift', 'drill', 'drink', 'drizzle', 'drop', 'drought', 'dune', 'dust', 'dwelling', 'dye', 'dynasty', 'earth', 'east', 'echo', 'edge', 'edition', 'egg', 'elbow', 'elder', 'element', 'elk', 'elm', 'emerald', 'empire', 'ending', 'energy', 'entrance', 'entry', 'episode', 'equator', 'era', 'error', 'estate', 'estuary', 'event', 'example', 'exchange', 'exit', 'expedition', 'experiment', 'expert', 'explosion', 'export', 'expression', 'extension', 'fabric', 'face', 'facility', 'fair', 'faith', 'fall', 'family', 'fan', 'fantasy', 'farm', 'fashion', 'fate', 'father', 'fault', 'favor', 'fear', 'feast', 'feature', 'federation', 'fee', 'feeling', 'fellow', 'felt', 'ferry', 'festival', 'fiber', 'fiction', 'fiddle', 'field', 'figure', 'file', 'film', 'filter', 'finance', 'finger', 'finish', 'fire', 'firm', 'fish', 'fist', 'fjord', 'flare', 'flash', 'flat', 'flavor', 'flaw', 'fleet', 'flesh', 'flight', 'flint', 'flock', 'flood', 'floor', 'flora', 'flour', 'flow', 'flower', 'fluid', 'flush', 'foam', 'focus', 'fog', 'fold', 'folk', 'font', 'food', 'foot', 'force', 'ford', 'forecast', 'forehead', 'foreigner', 'form', 'format', 'formation', 'formula', 'fort', 'fortune', 'forum', 'fossil', 'foundation', 'founder', 'fraction', 'fragment', 'franchise', 'freight', 'frequency', 'fresco', 'friction', 'friend', 'fringe', 'frog', 'front', 'frontier', 'frost', 'fruit', 'fuel', 'function', 'fund', 'funeral', 'fur', 'furrow', 'future', 'galaxy', 'gallery', 'galley', 'game', 'gang', 'gap', 'garage', 'garbage', 'garment', 'garrison', 'gas', 'gauge', 'gear', 'general', 'generation', 'genius', 'genre', 'gentleman', 'geography', 'geometry', 'germ', 'gesture', 'ghost', 'giant', 'gift', 'ginger', 'giraffe', 'girl', 'glacier', 'glade', 'gland', 'glance', 'glass', 'glen', 'glimpse', 'glitter', 'glory', 'glow', 'goal', 'goat', 'goddess', 'gold', 'gondola', 'gong', 'goods', 'goose', 'gorge', 'gospel', 'government', 'governor', 'grace', 'grade', 'grain', 'grammar', 'grandeur', 'granite', 'grant', 'grape', 'graph', 'grasp', 'grass', 'gratitude', 'gravel', 'gravity', 'greed', 'grief', 'grill', 'grin', 'grip', 'grit', 'groove', 'ground', 'group', 'grove', 'growth', 'guard', 'guest', 'guidance', 'guide', 'guild', 'guilt', 'gulf', 'gull', 'gust', 'gutter', 'habit', 'habitat', 'hall', 'hamlet', 'hand', 'handle', 'handwriting', 'hangar', 'hanger', 'happiness', 'harmony', 'harness', 'haste', 'hat', 'hatch', 'hatred', 'haul', 'haven', 'hawk', 'hazard', 'head', 'headline', 'headquarters', 'health', 'heap', 'heart', 'hearth', 'heat', 'heather', 'heaven', 'hedge', 'heel', 'height', 'heir', 'hello', 'helm', 'help', 'hemisphere', 'hemp', 'hen', 'herb', 'herd', 'heritage', 'hero', 'heroine', 'heron', 'hide', 'hierarchy', 'hill', 'hinge', 'hint', 'hip', 'hippopotamus', 'hire', 'historian', 'history', 'hive', 'hobby', 'hoe', 'hole', 'holiday', 'hollow', 'home', 'homestead', 'honey', 'honor', 'hood', 'hoof', 'hook', 'hope', 'horde', 'horn', 'horror', 'horse', 'hose', 'hospital', 'host', 'hostage', 'hotel', 'hound', 'hour', 'house', 'household', 'hub', 'hue', 'hull', 'human', 'humidity', 'humor', 'hump', 'hundred', 'hunger', 'hunt', 'hunter', 'hurdle', 'hut', 'hymn', 'hypothesis', 'ice', 'icon', 'idea', 'ideal', 'identity', 'idiom', 'igloo', 'ignition', 'image', 'imagination', 'imitation', 'immigrant', 'impact', 'import', 'importance', 'impression', 'impulse', 'incense', 'inch', 'incident', 'income', 'increase', 'index', 'indication', 'individual', 'industry', 'infant', 'infection', 'influence', 'information', 'inhabitant', 'inheritance', 'initial', 'initiative', 'injustice', 'inn', 'innocence', 'innovation', 'input', 'inquiry', 'inscription', 'insect', 'insight', 'inspection', 'inspiration', 'installation', 'instance', 'instant', 'instinct', 'institution', 'instruction', 'instrument', 'insulation', 'insurance', 'intellect', 'intelligence', 'intention', 'interaction', 'interest', 'interior', 'interpretation', 'interval', 'intervention', 'interview', 'introduction', 'invasion', 'invention', 'inventory', 'investigation', 'investment', 'invitation', 'invoice', 'involvement', 'iron', 'irrigation', 'issue', 'item', 'jab', 'jade', 'jaguar', 'jail', 'jam', 'jaw', 'jazz', 'jealousy', 'jeans', 'jeep', 'jelly', 'jester', 'jet', 'jetty', 'job', 'joint', 'joke', 'journey', 'joy', 'judge', 'judgment', 'jug', 'juice', 'jump', 'junction', 'justice', 'jute', 'kangaroo', 'keel', 'keeper', 'keg', 'kennel', 'kernel', 'ketchup', 'key', 'kick', 'kid', 'kidney', 'kin', 'kind', 'kingdom', 'kiosk', 'kiss', 'kit', 'kitchen', 'kite', 'kitten', 'knee', 'knife', 'knob', 'knock', 'knowledge', 'koala', 'label', 'labor', 'lace', 'lack', 'lad', 'ladle', 'lady', 'lagoon', 'lair', 'lamb', 'lament', 'land', 'landing', 'landlord', 'landmark', 'landscape', 'lane', 'language', 'lap', 'lapse', 'lard', 'larva', 'laser', 'lash', 'lass', 'last', 'laughter', 'launch', 'laundry', 'lava', 'lavender', 'law', 'lawyer', 'layer', 'layout', 'lead', 'leader', 'leadership', 'league', 'leak', 'lean', 'leap', 'lease', 'leash', 'leather', 'leave', 'lecture', 'leek', 'left', 'leg', 'legacy', 'legend', 'legislation', 'lemon', 'length', 'leopard', 'lesson', 'letter', 'lettuce', 'level', 'liberty', 'librarian', 'license', 'lid', 'lie', 'lieutenant', 'life', 'lifestyle', 'lifetime', 'lift', 'light', 'lightning', 'likeness', 'lily', 'limb', 'lime', 'limit', 'line', 'linen', 'liner', 'link', 'lion', 'lip', 'liquid', 'list', 'listener', 'literacy', 'literature', 'litter', 'liver', 'livestock', 'living', 'lizard', 'llama', 'load', 'loaf', 'loan', 'lobby', 'lobster', 'location', 'lock', 'locust', 'lodge', 'lodging', 'loft', 'log', 'logic', 'loneliness', 'loop', 'lord', 'loss', 'lot', 'lotion', 'lottery', 'lotus', 'lounge', 'love', 'lover', 'loyalty', 'luck', 'luggage', 'lumber', 'lump', 'lunch', 'lung', 'luxury', 'lyrics', 'machine', 'machinery', 'mackerel', 'madness', 'magazine', 'magic', 'magistrate', 'magnet', 'magnitude', 'maid', 'mail', 'mainland', 'mainstream', 'maintenance', 'maize', 'majesty', 'majority', 'maker', 'makeup', 'malaria', 'male', 'malice', 'mall', 'mallet', 'mammal', 'mammoth', 'man', 'management', 'manager', 'mandate', 'mane', 'maneuver', 'mango', 'manhole', 'mankind', 'manner', 'manor', 'mantle', 'manual', 'manufacture', 'manufacturer', 'manuscript', 'maple', 'marathon', 'march', 'mare', 'margin', 'marina', 'marine', 'mariner', 'mark', 'marker', 'marketing', 'marketplace', 'marriage', 'marrow', 'marsh', 'marshal', 'marvel', 'mascot', 'mass', 'massacre', 'massage', 'mast', 'master', 'masterpiece', 'mat', 'match', 'mate', 'material', 'mathematics', 'matron', 'matter', 'mattress', 'maximum', 'mayor', 'maze', 'meal', 'meaning', 'means', 'meantime', 'measure', 'measurement', 'meat', 'mechanic', 'mechanism', 'medicine', 'medium', 'meeting', 'member', 'membership', 'membrane', 'memo', 'memoir', 'memorial', 'memory', 'menace', 'merchant', 'mercury', 'mercy', 'merge', 'merit', 'mermaid', 'merriment', 'mesh', 'mess', 'message', 'messenger', 'metal', 'metaphor', 'meteor', 'meter', 'method', 'metropolis', 'microphone', 'microscope', 'microwave', 'midday', 'middle', 'midnight', 'midst', 'might', 'migrant', 'migration', 'mile', 'milestone', 'military', 'militia', 'milk', 'mill', 'millennium', 'million', 'mime', 'mind', 'mine', 'mineral', 'miniature', 'minimum', 'mining', 'minister', 'ministry', 'mink', 'minor', 'minority', 'mint', 'minute', 'miracle', 'mirage', 'mischief', 'miser', 'misery', 'misfortune', 'miss', 'missile', 'mission', 'missionary', 'mist', 'mistake', 'mistress', 'mixture', 'mob', 'mobile', 'mode', 'model', 'modem', 'moderation', 'modernization', 'modification', 'module', 'moisture', 'mold', 'mole', 'molecule', 'moment', 'momentum', 'monarch', 'monarchy', 'monastery', 'money', 'monitor', 'monk', 'monkey', 'monopoly', 'monster', 'month', 'mood', 'moonlight', 'moor', 'moral', 'morale', 'morality', 'mortar', 'mortgage', 'mosaic', 'mosque', 'mosquito', 'moth', 'mother', 'motion', 'motivation', 'motive', 'motor', 'motto', 'mound', 'mount', 'mourning', 'mouse', 'mouth', 'move', 'movement', 'movie', 'mud', 'mug', 'mule', 'multiple', 'multitude', 'mummy', 'municipality', 'murder', 'murderer', 'murmur', 'muscle', 'museum', 'mushroom', 'music', 'musician', 'mustard', 'mutiny', 'mutton', 'mystery', 'myth', 'mythology', 'nail', 'name', 'nape', 'napkin', 'narration', 'narrative', 'narrator', 'nation', 'nationality', 'native', 'nature', 'nausea', 'navigation', 'navigator', 'navy', 'necessity', 'neck', 'need', 'needle', 'neglect', 'negotiation', 'neighbor', 'neighborhood', 'nephew', 'nerve', 'nest', 'net', 'network', 'neutrality', 'newcomer', 'news', 'newspaper', 'niche', 'nickname', 'niece', 'night', 'nightfall', 'nightmare', 'nobility', 'noble', 'nod', 'noise', 'nomination', 'nominee', 'nonsense', 'noodle', 'noon', 'norm', 'normal', 'north', 'nose', 'nostril', 'note', 'nothing', 'notice', 'notification', 'notion', 'nourishment', 'novel', 'novelty', 'novice', 'nowhere', 'nucleus', 'nuisance', 'number', 'numeral', 'nun', 'nurse', 'nursery', 'nurture', 'nut', 'nutrition', 'oak', 'oar', 'oath', 'oatmeal', 'obedience', 'object', 'objection', 'objective', 'obligation', 'observation', 'observer', 'obsession', 'obstacle', 'occasion', 'occupation', 'occurrence', 'octopus', 'odor', 'offense', 'offer', 'offering', 'office', 'officer', 'official', 'offspring', 'oil', 'ointment', 'olive', 'omen', 'omission', 'onion', 'opening', 'opera', 'operation', 'operator', 'opinion', 'opponent', 'opportunity', 'opposition', 'oppression', 'optimism', 'option', 'orange', 'oration', 'orator', 'orbit', 'orchestra', 'orchid', 'ordeal', 'order', 'ordinance', 'ore', 'organization', 'origin', 'original', 'orphan', 'ostrich', 'otter', 'ounce', 'outbreak', 'outcome', 'outcry', 'outfit', 'outlaw', 'outlet', 'outline', 'outlook', 'output', 'outrage', 'outset', 'outside', 'outskirts', 'oval', 'oven', 'overcoat', 'overflow', 'overhead', 'oversight', 'overthrow', 'overtime', 'overview', 'owl', 'owner', 'ownership', 'ox', 'oxygen', 'oyster', 'pace', 'pack', 'package', 'packet', 'pact', 'pad', 'page', 'pageant', 'pail', 'pain', 'paint', 'painter', 'pair', 'pajamas', 'pal', 'palace', 'palate', 'palm', 'pamphlet', 'pan', 'pane', 'panic', 'panorama', 'panther', 'pants', 'paper', 'paperwork', 'parable', 'parade', 'paradise', 'paragraph', 'parallel', 'parcel', 'pardon', 'parent', 'parish', 'parity', 'parliament', 'parlor', 'parrot', 'parsley', 'parson', 'part', 'participant', 'participation', 'particle', 'particular', 'partition', 'partner', 'partnership', 'partridge', 'party', 'passage', 'passenger', 'passerby', 'passion', 'passive', 'passport', 'password', 'past', 'paste', 'pastime', 'pastor', 'pasture', 'pat', 'patch', 'patent', 'patience', 'patient', 'patriarch', 'patriot', 'patriotism', 'patrol', 'patron', 'pattern', 'pause', 'pavement', 'paw', 'pawn', 'pay', 'payment', 'pea', 'peace', 'peach', 'peacock', 'peak', 'peal', 'peanut', 'pear', 'peasant', 'peat', 'peculiarity', 'pedal', 'pedigree', 'peel', 'peer', 'peg', 'pelican', 'pen', 'penalty', 'penance', 'pence', 'pencil', 'pendulum', 'penguin', 'peninsula', 'penny', 'pension', 'people', 'pepper', 'perception', 'perch', 'perdition', 'perfection', 'performance', 'performer', 'perfume', 'peril', 'period', 'permission', 'permit', 'persecution', 'perseverance', 'person', 'personality', 'personnel', 'perspective', 'persuasion', 'pest', 'pet', 'petal', 'petition', 'petroleum', 'phantom', 'phase', 'pheasant', 'phenomenon', 'philosopher', 'philosophy', 'phone', 'photograph', 'photographer', 'phrase', 'physician', 'physics', 'pianist', 'pickle', 'picnic', 'picture', 'pie', 'piece', 'pier', 'pig', 'pigeon', 'pike', 'pile', 'pilgrim', 'pilgrimage', 'pill', 'pillow', 'pilot', 'pin', 'pinch', 'pine', 'pineapple', 'pink', 'pint', 'pioneer', 'pious', 'pipe', 'pirate', 'pit', 'pitch', 'pitcher', 'pity', 'pivot', 'place', 'placement', 'plague', 'plain', 'plaintiff', 'plan', 'plane', 'planet', 'plank', 'plant', 'plantation', 'plaster', 'plastic', 'plate', 'plateau', 'platter', 'play', 'player', 'playground', 'plea', 'pleasure', 'pledge', 'plenty', 'pliers', 'plight', 'plot', 'plough', 'plow', 'pluck', 'plug', 'plum', 'plumber', 'plume', 'plunder', 'plunge', 'plural', 'pocket', 'pod', 'poet', 'poetry', 'point', 'poison', 'poke', 'pole', 'police', 'policeman', 'policy', 'polish', 'politician', 'politics', 'poll', 'pollen', 'pollution', 'polo', 'pomp', 'poncho', 'pool', 'populace', 'population', 'porch', 'pore', 'pork', 'port', 'portfolio', 'portion', 'portrait', 'pose', 'position', 'possession', 'possibility', 'post', 'postage', 'postcard', 'poster', 'posterity', 'postman', 'pot', 'potato', 'potency', 'potential', 'potion', 'potter', 'poultry', 'pound', 'poverty', 'powder', 'power', 'practice', 'prairie', 'praise', 'prank', 'prayer', 'preacher', 'precaution', 'precedent', 'precinct', 'precious', 'precipice', 'precision', 'predator', 'predecessor', 'predicament', 'prediction', 'preface', 'preference', 'prefix', 'prejudice', 'preliminary', 'prelude', 'premier', 'premise', 'premium', 'preparation', 'prescription', 'presence', 'present', 'presentation', 'preservation', 'president', 'press', 'pressure', 'prestige', 'pretense', 'pretext', 'prevalence', 'prevention', 'prey', 'price', 'pride', 'priest', 'priesthood', 'primary', 'primate', 'prime', 'primer', 'primitive', 'prince', 'princess', 'principal', 'principle', 'print', 'printer', 'priority', 'prisoner', 'privacy', 'privilege', 'prize', 'probability', 'probation', 'probe', 'problem', 'procedure', 'proceed', 'process', 'procession', 'proclamation', 'produce', 'producer', 'product', 'production', 'profession', 'professor', 'profile', 'profit', 'program', 'progress', 'prohibition', 'project', 'prologue', 'promenade', 'prominence', 'promise', 'promotion', 'prompt', 'pronoun', 'proof', 'propaganda', 'propeller', 'property', 'prophecy', 'prophet', 'proportion', 'proposal', 'proposition', 'proprietor', 'prose', 'prosecution', 'prosecutor', 'prospect', 'prosperity', 'protection', 'protector', 'protein', 'protest', 'protocol', 'proton', 'proverb', 'province', 'provision', 'provocation', 'prowess', 'proximity', 'prudence', 'prune', 'psychiatrist', 'psychology', 'pub', 'public', 'publication', 'publicity', 'publisher', 'pudding', 'puddle', 'puff', 'pull', 'pulley', 'pulse', 'pump', 'pumpkin', 'punch', 'punctuation', 'punishment', 'pupil', 'purchase', 'purity', 'purple', 'purpose', 'purse', 'pursuit', 'push', 'puzzle', 'pyramid', 'python'],
      adjectives: ['magnificent', 'peculiar', 'tremendous', 'delicate', 'mysterious', 'brilliant', 'ancient', 'graceful', 'turbulent', 'serene', 'spectacular', 'elegant', 'ferocious', 'luminous', 'tranquil', 'vibrant', 'majestic', 'bizarre', 'harmonious', 'resilient', 'exquisite', 'radiant', 'enigmatic', 'colossal', 'whimsical', 'pristine', 'formidable', 'ethereal', 'splendid', 'dazzling', 'gleaming', 'shimmering', 'sparkling', 'glittering', 'blazing', 'glowing', 'flickering', 'twinkling', 'shining', 'vivid', 'bold', 'striking', 'dramatic', 'intense', 'powerful', 'mighty', 'strong', 'robust', 'sturdy', 'solid', 'abundant', 'absurd', 'acceptable', 'accurate', 'active', 'adorable', 'adventurous', 'affectionate', 'afraid', 'aggressive', 'agile', 'agreeable', 'alert', 'alive', 'amazing', 'ambitious', 'ample', 'amused', 'amusing', 'angry', 'animated', 'annoying', 'anxious', 'arrogant', 'ashamed', 'aspiring', 'astonishing', 'attractive', 'average', 'aware', 'awesome', 'awful', 'awkward', 'bad', 'beautiful', 'beneficial', 'best', 'better', 'bewildered', 'big', 'bitter', 'black', 'blue', 'boiling', 'bold', 'boring', 'bouncy', 'brave', 'breezy', 'brief', 'bright', 'broad', 'broken', 'bumpy', 'busy', 'calm', 'capable', 'careful', 'careless', 'cautious', 'charming', 'cheap', 'cheerful', 'chilly', 'clean', 'clear', 'clever', 'clumsy', 'cold', 'colorful', 'comfortable', 'common', 'compassionate', 'complex', 'confused', 'considerate', 'constant', 'cool', 'courageous', 'creative', 'creepy', 'crooked', 'crowded', 'cruel', 'curious', 'curved', 'cute', 'damp', 'dangerous', 'dapper', 'daring', 'dark', 'dazzling', 'dead', 'deafening', 'dear', 'decent', 'deep', 'defeated', 'delicious', 'delightful', 'demanding', 'dense', 'dependent', 'depressed', 'deserted', 'detailed', 'determined', 'different', 'difficult', 'diligent', 'dirty', 'disgusted', 'distinct', 'disturbed', 'dizzy', 'doubtful', 'drab', 'dull', 'dusty', 'dynamic', 'eager', 'early', 'earnest', 'easy', 'ecstatic', 'educational', 'efficient', 'elaborate', 'elastic', 'elated', 'elderly', 'electric', 'elegant', 'embarrassed', 'empty', 'enchanted', 'enchanting', 'encouraging', 'endless', 'energetic', 'enormous', 'enthusiastic', 'envious', 'equal', 'erratic', 'essential', 'esteemed', 'ethical', 'evasive', 'even', 'excellent', 'exceptional', 'excited', 'exciting', 'exotic', 'expensive', 'expert', 'exquisite', 'extensive', 'extra', 'exuberant', 'fabulous', 'faded', 'failing', 'faint', 'fair', 'faithful', 'false', 'familiar', 'famous', 'fancy', 'fantastic', 'far', 'fascinating', 'fashionable', 'fast', 'fatal', 'favorable', 'fearful', 'fearless', 'feeble', 'fertile', 'festive', 'few', 'fierce', 'filthy', 'fine', 'firm', 'first', 'fit', 'flaky', 'flashy', 'flat', 'flawed', 'flimsy', 'flowery', 'fluffy', 'fluid', 'focused', 'foggy', 'foolish', 'forceful', 'foreign', 'forgetful', 'fortunate', 'fragile', 'fragrant', 'frail', 'frantic', 'free', 'freezing', 'frequent', 'fresh', 'friendly', 'frightened', 'frightening', 'frigid', 'frothy', 'frozen', 'frugal', 'fruitful', 'frustrated', 'full', 'functional', 'funny', 'furious', 'fuzzy', 'gaping', 'gentle', 'genuine', 'ghastly', 'giant', 'giddy', 'gifted', 'gigantic', 'glamorous', 'gleaming', 'glib', 'glistening', 'glorious', 'glossy', 'godly', 'golden', 'good', 'gorgeous', 'gracious', 'grand', 'grateful', 'grave', 'gray', 'great', 'greedy', 'green', 'grey', 'grieving', 'grim', 'grimy', 'gross', 'grotesque', 'grouchy', 'grumpy', 'guilty', 'gullible', 'gusty', 'habitual', 'hairy', 'half', 'hallowed', 'handsome', 'handy', 'hapless', 'happy', 'hard', 'harmful', 'harmless', 'harsh', 'hasty', 'hateful', 'healthy', 'heartbreaking', 'heavy', 'hectic', 'helpless', 'hesitant', 'hideous', 'high', 'hilarious', 'hissing', 'historical', 'hollow', 'homeless', 'honest', 'honorable', 'hopeful', 'horrible', 'hospitable', 'hostile', 'hot', 'huge', 'humble', 'humid', 'humorous', 'hungry', 'hurt', 'hushed', 'husky', 'icy', 'ideal', 'idle', 'ignorant', 'ill', 'illegal', 'illustrious', 'imaginary', 'imaginative', 'immaculate', 'immense', 'immortal', 'impartial', 'impatient', 'imperfect', 'important', 'impossible', 'impressive', 'impulsive', 'incredible', 'independent', 'indifferent', 'indolent', 'industrious', 'inefficient', 'inexpensive', 'inferior', 'infinite', 'informal', 'innocent', 'inquisitive', 'insecure', 'insignificant', 'insistent', 'inspiring', 'intelligent', 'interesting', 'internal', 'intimate', 'intrepid', 'invisible', 'inviting', 'irate', 'irritable', 'irritating', 'itchy', 'jaded', 'jagged', 'jealous', 'jittery', 'jocular', 'jolly', 'jovial', 'joyful', 'joyous', 'jubilant', 'judicious', 'juicy', 'jumbled', 'kind', 'kindhearted', 'knowing', 'knowledgeable', 'lackadaisical', 'lame', 'languid', 'large', 'last', 'lasting', 'late', 'laughable', 'lavish', 'lawful', 'lazy', 'lean', 'learned', 'left', 'legal', 'legendary', 'legitimate', 'lengthy', 'lethal', 'level', 'light', 'lighthearted', 'likable', 'likely', 'limited', 'limp', 'liquid', 'little', 'live', 'lively', 'living', 'loathsome', 'logical', 'lonely', 'long', 'loose', 'lopsided', 'loud', 'lovable', 'lovely', 'loving', 'low', 'loyal', 'lucky', 'ludicrous', 'lumpy', 'lush', 'lustrous', 'luxurious', 'mad', 'magical', 'magnificent', 'majestic', 'major', 'mammoth', 'manageable', 'manly', 'marvelous', 'massive', 'material', 'mature', 'meager', 'mean', 'measly', 'meaty', 'medical', 'mediocre', 'melancholy', 'mellow', 'melodic', 'memorable', 'menacing', 'merciful', 'messy', 'metallic', 'mighty', 'mild', 'miniature', 'minor', 'minute', 'miraculous', 'miserable', 'miserly', 'misty', 'modern', 'modest', 'moist', 'moldy', 'momentous', 'monstrous', 'moral', 'motionless', 'mountainous', 'muddy', 'muffled', 'muggy', 'mundane', 'murky', 'mushy', 'musty', 'mysterious', 'naive', 'narrow', 'nasty', 'natural', 'naughty', 'near', 'neat', 'nebulous', 'necessary', 'needless', 'needy', 'nefarious', 'negative', 'neglected', 'neighborly', 'nervous', 'new', 'next', 'nice', 'nifty', 'nimble', 'nippy', 'noble', 'noisy', 'normal', 'nostalgic', 'nosy', 'notable', 'noticeable', 'novel', 'noxious', 'numb', 'numerous', 'nutritious', 'nutty', 'obedient', 'obese', 'obnoxious', 'obscene', 'obsequious', 'observant', 'obsolete', 'obtainable', 'obvious', 'odd', 'offbeat', 'offensive', 'official', 'oily', 'old', 'ominous', 'open', 'optimal', 'optimistic', 'opulent', 'orange', 'ordinary', 'organic', 'ornate', 'ornery', 'outgoing', 'outrageous', 'outstanding', 'oval', 'overconfident', 'overjoyed', 'overwhelming', 'painful', 'painstaking', 'pale', 'pallid', 'paltry', 'panoramic', 'parallel', 'parched', 'partial', 'passionate', 'past', 'pastoral', 'pathetic', 'patient', 'peaceful', 'peculiar', 'perfect', 'periodic', 'permanent', 'perpetual', 'perplexed', 'persistent', 'personal', 'persuasive', 'pertinent', 'pesky', 'pessimistic', 'petite', 'petty', 'phenomenal', 'physical', 'picayune', 'piercing', 'pink', 'pious', 'pitiful', 'placid', 'plain', 'plaintive', 'plastic', 'plausible', 'pleasant', 'pleased', 'pleasing', 'plucky', 'plump', 'poetic', 'pointed', 'pointless', 'poised', 'polished', 'polite', 'political', 'pompous', 'poor', 'popular', 'posh', 'positive', 'possessive', 'possible', 'potent', 'powerful', 'practical', 'precious', 'precise', 'predictable', 'premium', 'present', 'prestigious', 'pretty', 'previous', 'pricey', 'prickly', 'primary', 'prime', 'primitive', 'principal', 'pristine', 'private', 'probable', 'productive', 'profane', 'professional', 'profuse', 'progressive', 'prolific', 'prominent', 'prompt', 'proper', 'protective', 'proud', 'provincial', 'prudent', 'psychedelic', 'public', 'puffy', 'punctual', 'pungent', 'puny', 'pure', 'purple', 'pushy', 'puzzled', 'puzzling', 'quaint', 'qualified', 'quarrelsome', 'queasy', 'querulous', 'questionable', 'quick', 'quiet', 'quintessential', 'quirky', 'quizzical', 'rabid', 'racial', 'radiant', 'ragged', 'rainy', 'rambunctious', 'rampant', 'rapid', 'rare', 'rash', 'raspy', 'rational', 'ratty', 'raucous', 'ravenous', 'raw', 'ready', 'real', 'realistic', 'reasonable', 'rebellious', 'recalcitrant', 'recent', 'receptive', 'reckless', 'red', 'redundant', 'refined', 'reflective', 'regal', 'regular', 'reliable', 'religious', 'remarkable', 'reminiscent', 'remote', 'repentant', 'repetitive', 'repulsive', 'required', 'resilient', 'resolute', 'resonant', 'respectful', 'responsible', 'restless', 'retired', 'revolving', 'rewarding', 'rich', 'ridiculous', 'right', 'righteous', 'rigid', 'ripe', 'ritualistic', 'roasted', 'robust', 'romantic', 'roomy', 'rosy', 'rotten', 'rotund', 'rough', 'round', 'rowdy', 'royal', 'ruddy', 'rude', 'rugged', 'rural', 'rustic', 'rusty', 'ruthless', 'sacred', 'sad', 'safe', 'salty', 'same', 'sarcastic', 'sardonic', 'sassy', 'satisfied', 'satisfying', 'savage', 'scarce', 'scared', 'scary', 'scattered', 'scenic', 'scented', 'scholarly', 'scientific', 'scintillating', 'scornful', 'scratchy', 'scrawny', 'screeching', 'second', 'secret', 'secretive', 'secure', 'sedate', 'seemly', 'selective', 'selfish', 'sensational', 'sensible', 'sensitive', 'sentimental', 'separate', 'serene', 'serious', 'serpentine', 'severe', 'shabby', 'shady', 'shaggy', 'shaky', 'shallow', 'sharp', 'shiny', 'shivering', 'shocked', 'shocking', 'short', 'shrill', 'shut', 'shy', 'sick', 'silent', 'silky', 'silly', 'silver', 'similar', 'simple', 'sincere', 'sinful', 'single', 'sizzling', 'skeletal', 'skillful', 'skinny', 'sleepy', 'slender', 'slimy', 'slippery', 'slow', 'small', 'smart', 'smelly', 'smiling', 'smoggy', 'smooth', 'smug', 'sneaky', 'snobbish', 'snotty', 'soft', 'soggy', 'solid', 'somber', 'sophisticated', 'sordid', 'sore', 'sorrowful', 'sorry', 'sour', 'sparkling', 'sparse', 'special', 'spectacular', 'speedy', 'spherical', 'spicy', 'spiffy', 'spiky', 'spiritual', 'spiteful', 'splendid', 'spooky', 'spotless', 'spotted', 'spotty', 'spry', 'spurious', 'squalid', 'square', 'squealing', 'squeamish', 'staid', 'stale', 'standard', 'standing', 'stark', 'starry', 'static', 'statuesque', 'steadfast', 'steady', 'steep', 'stereotyped', 'sticky', 'stiff', 'stimulating', 'stingy', 'stormy', 'straight', 'strange', 'strategic', 'strict', 'strident', 'striking', 'striped', 'strong', 'stubborn', 'studious', 'stunning', 'stupid', 'sturdy', 'stylish', 'subdued', 'submissive', 'substantial', 'subtle', 'successful', 'succinct', 'sudden', 'sulky', 'sunny', 'super', 'superb', 'superficial', 'superior', 'supportive', 'supreme', 'sure', 'surprised', 'suspicious', 'svelte', 'swanky', 'sweaty', 'sweet', 'swift', 'swollen', 'sympathetic', 'synonymous', 'taboo', 'tacit', 'taciturn', 'tacky', 'talented', 'tall', 'tame', 'tan', 'tangible', 'tart', 'tasteful', 'tasteless', 'tasty', 'tattered', 'taut', 'tawdry', 'tearful', 'tedious', 'teeny', 'telling', 'temporary', 'tempting', 'tender', 'tense', 'tenuous', 'tepid', 'terrible', 'terrific', 'terrified', 'tested', 'testy', 'thankful', 'therapeutic', 'thick', 'thin', 'thinkable', 'thirsty', 'thorny', 'thorough', 'thoughtful', 'thoughtless', 'threatening', 'thrifty', 'thundering', 'tidy', 'tight', 'timely', 'tiny', 'tired', 'tiresome', 'toasty', 'tolerant', 'tone-deaf', 'top', 'torpid', 'total', 'tough', 'towering', 'tragic', 'trained', 'tranquil', 'trashy', 'traumatic', 'treasured', 'tremendous', 'trendy', 'tricky', 'trifling', 'trim', 'trivial', 'troubled', 'truculent', 'true', 'trustworthy', 'trusty', 'truthful', 'tubby', 'turbulent', 'twin', 'twinkling', 'typical', 'ubiquitous', 'ugliest', 'ugly', 'ultra', 'unable', 'unaccountable', 'unadvised', 'unarmed', 'unassuming', 'unaware', 'unbecoming', 'unbiased', 'uncertain', 'uncomfortable', 'uncommon', 'unconscious', 'uncovered', 'undecided', 'understanding', 'understood', 'undesirable', 'unequal', 'unequaled', 'uneven', 'unexpected', 'unfair', 'unfasten', 'unfortunate', 'unfriendly', 'unhappy', 'unhealthy', 'uniform', 'unimportant', 'uninterested', 'unique', 'united', 'unjust', 'unknown', 'unlawful', 'unnatural', 'unpleasant', 'unpopular', 'unruly', 'unsightly', 'unsuitable', 'unusual', 'unwieldy', 'unwritten', 'upbeat', 'uppity', 'upset', 'uptight', 'urban', 'used', 'useful', 'useless', 'utopian', 'vacuous', 'vague', 'vain', 'valid', 'valiant', 'valuable', 'various', 'vast', 'vengeful', 'venomous', 'verdant', 'versatile', 'vexed', 'vibrant', 'vicious', 'victorious', 'vigorous', 'villainous', 'violent', 'violet', 'virtual', 'virtuous', 'visible', 'vital', 'vivacious', 'vivid', 'vocal', 'vociferous', 'voiceless', 'volatile', 'voracious', 'vulgar', 'wacky', 'waggish', 'waiting', 'wakeful', 'wandering', 'wanting', 'warlike', 'warm', 'warmhearted', 'warped', 'wary', 'wasteful', 'watchful', 'watery', 'weak', 'wealthy', 'weary', 'weathered', 'weird', 'welcome', 'well', 'wet', 'whimsical', 'whispering', 'white', 'whole', 'wholesale', 'wholesome', 'wicked', 'wide', 'wiggly', 'wild', 'willing', 'wilted', 'winding', 'windy', 'wiry', 'wise', 'wistful', 'witty', 'wobbly', 'woeful', 'wonderful', 'wooden', 'woozy', 'wordy', 'workable', 'worldly', 'worn', 'worried', 'worrisome', 'worse', 'worst', 'worthless', 'worthwhile', 'worthy', 'wrathful', 'wretched', 'writhing', 'wrong', 'wry', 'xenophobic', 'yawning', 'yearly', 'yellow', 'yielding', 'young', 'youthful', 'yummy', 'zany', 'zealous', 'zesty', 'zigzag', 'zippy'],
      fancyWords: ['obsequious', 'perspicacious', 'recalcitrant', 'ephemeral', 'ubiquitous', 'vociferous', 'pulchritude', 'quintessential', 'serendipity', 'lackadaisical', 'magnanimous', 'nefarious', 'obfuscate', 'perfidious', 'pusillanimous', 'querulous', 'sagacious', 'sanguine', 'taciturn', 'unctuous', 'verbose', 'zealous', 'aberration', 'abstruse', 'accolade', 'acerbic', 'acquiesce', 'acrimony', 'adulation', 'aegis', 'aesthetic', 'affable', 'aggrandize', 'alacrity', 'ameliorate', 'anachronism', 'anathema', 'antipathy', 'apocryphal', 'approbation', 'arcane', 'arduous', 'assiduous', 'assuage', 'audacious', 'august', 'auspicious', 'avarice', 'aver', 'banal', 'bellicose', 'belligerent', 'benevolent', 'bequeath', 'besmirch', 'bibliophile', 'bifurcate', 'blithe', 'bombastic', 'boorish', 'bourgeois', 'byzantine', 'cacophony', 'cajole', 'calumny', 'candor', 'capricious', 'castigate', 'catalyst', 'caustic', 'chagrin', 'charlatan', 'chicanery', 'churlish', 'circumlocution', 'circumspect', 'clandestine', 'clemency', 'cloying', 'coalesce', 'cogent', 'cognizant', 'commensurate', 'compendium', 'complacent', 'complicity', 'conciliatory', 'conflagration', 'connoisseur', 'contentious', 'contrite', 'conundrum', 'convivial', 'copious', 'corpulent', 'corroborate', 'countenance', 'craven', 'credulous', 'culpable', 'cupidity', 'cursory', 'curtail', 'cynical', 'dauntless', 'dearth', 'debacle', 'debilitate', 'decorous', 'defenestration', 'deference', 'delineate', 'deleterious', 'demure', 'denigrate', 'denounce', 'deride', 'derivative', 'desiccate', 'desultory', 'diatribe', 'dichotomy', 'didactic', 'diffident', 'digress', 'dilatory', 'dilettante', 'diminutive', 'disabuse', 'discern', 'disconsolate', 'discordant', 'discrepancy', 'discrete', 'disingenuous', 'disparage', 'disparate', 'dissemble', 'disseminate', 'dissonance', 'distend', 'dogmatic', 'dour', 'draconian', 'dulcet', 'duplicity', 'ebullient', 'eccentric', 'eclectic', 'edify', 'efficacious', 'effrontery', 'effusive', 'egalitarian', 'egregious', 'elegy', 'elucidate', 'emancipate', 'embellish', 'emollient', 'empirical', 'emulate', 'endemic', 'enervate', 'engender', 'enigma', 'enmity', 'ennui', 'enormity', 'ephemeral', 'epistolary', 'epitome', 'equanimity', 'equivocal', 'erudite', 'esoteric', 'espouse', 'ethereal', 'eulogy', 'euphemism', 'euphony', 'evanescent', 'exacerbate', 'exalt', 'exasperate', 'execrable', 'exemplary', 'exhort', 'exigent', 'existential', 'exonerate', 'expedient', 'expiate', 'explicate', 'expunge', 'expurgate', 'extant', 'extemporaneous', 'extol', 'extraneous', 'extrapolate', 'extricate', 'exuberant', 'facetious', 'fallacious', 'fastidious', 'fatuous', 'feckless', 'fecund', 'felicitous', 'fervent', 'fervid', 'fetid', 'fidelity', 'fiduciary', 'flagrant', 'fledgling', 'flippant', 'florid', 'foible', 'foment', 'forestall', 'fortuitous', 'fractious', 'fraught', 'frenetic', 'frivolous', 'frugal', 'fulminate', 'fulsome', 'funereal', 'furtive', 'garrulous', 'gauche', 'genealogy', 'genteel', 'germane', 'glib', 'grandiloquent', 'grandiose', 'gratuitous', 'gregarious', 'guile', 'gullible', 'hackneyed', 'halcyon', 'hapless', 'harangue', 'harbinger', 'hedonist', 'hegemony', 'heinous', 'hermetic', 'heterogeneous', 'heuristic', 'hiatus', 'hierarchy', 'homogeneous', 'hubris', 'hyperbole', 'iconoclast', 'idiosyncrasy', 'ignominy', 'illicit', 'imminent', 'immutable', 'impasse', 'impassive', 'impecunious', 'imperious', 'impertinent', 'impetuous', 'impetus', 'impinge', 'implacable', 'implicit', 'impugn', 'impunity', 'inadvertent', 'inane', 'inchoate', 'incipient', 'incisive', 'incongruous', 'incontrovertible', 'inculcate', 'incumbent', 'indefatigable', 'indigenous', 'indigent', 'indignant', 'indolent', 'indomitable', 'ineffable', 'ineluctable', 'inept', 'inert', 'inexorable', 'infamous', 'ingenuous', 'ingratiate', 'inherent', 'inimical', 'iniquity', 'innate', 'innocuous', 'insatiable', 'inscrutable', 'insidious', 'insinuate', 'insipid', 'insouciant', 'instigate', 'insurgent', 'intangible', 'integral', 'interlocutor', 'internecine', 'interpolate', 'intransigent', 'intrepid', 'intrinsic', 'inundate', 'invective', 'inveterate', 'invidious', 'irascible', 'ire', 'irrefutable', 'irresolute', 'itinerant', 'jejune', 'jocund', 'juxtapose', 'lachrymose', 'laconic', 'lambaste', 'lament', 'languid', 'larceny', 'largess', 'lascivious', 'lassitude', 'latent', 'laudable', 'lavish', 'legerdemain', 'leonine', 'lethargic', 'levity', 'lexicon', 'libertine', 'licentious', 'lilliputian', 'limpid', 'lithe', 'litigious', 'loquacious', 'lucid', 'lugubrious', 'luminous', 'maelstrom', 'magnate', 'maladroit', 'malaise', 'malapropism', 'malcontent', 'malediction', 'malevolent', 'malfeasance', 'malicious', 'malign', 'malinger', 'malleable', 'manifold', 'marsupial', 'martinet', 'maudlin', 'mawkish', 'melancholy', 'mellifluous', 'mendacious', 'mendicant', 'mercurial', 'meretricious', 'meritorious', 'metamorphosis', 'meticulous', 'mettle', 'mien', 'milieu', 'minatory', 'miscreant', 'misanthrope', 'misnomer', 'mitigate', 'mnemonic', 'modicum', 'mollify', 'monolithic', 'moribund', 'morose', 'multifarious', 'mundane', 'munificent', 'myriad', 'nadir', 'nascent', 'nebulous', 'necromancy', 'neologism', 'neophyte', 'nepotism', 'noisome', 'nonchalant', 'nonplussed', 'nostrum', 'notorious', 'novel', 'noxious', 'nuance', 'obdurate', 'obeisance', 'oblique', 'obliterate', 'oblivious', 'obnoxious', 'obscure', 'obsequy', 'obstinate', 'obstreperous', 'obtuse', 'obviate', 'odious', 'officious', 'ominous', 'omnipotent', 'onerous', 'opaque', 'opprobrium', 'ornate', 'orthodox', 'oscillate', 'ostentatious', 'ostracize', 'palliate', 'pallid', 'palpable', 'paltry', 'panacea', 'panache', 'panegyric', 'paradigm', 'paradox', 'paragon', 'paramount', 'pariah', 'parody', 'parsimonious', 'partisan', 'pathological', 'pathos', 'patrician', 'patronize', 'paucity', 'pedant', 'pedestrian', 'pejorative', 'pellucid', 'penchant', 'penitent', 'penultimate', 'penurious', 'perambulate', 'percipient', 'perdition', 'peremptory', 'perennial', 'perfunctory', 'peripatetic', 'perjury', 'pernicious', 'perorate', 'perpetuate', 'perquisite', 'perspicuous', 'pertinacious', 'perturb', 'peruse', 'pervade', 'petulant', 'phantasmagoria', 'philanderer', 'philippic', 'philistine', 'phlegmatic', 'pithy', 'pittance', 'placate', 'placid', 'platitude', 'plaudit', 'plebeian', 'plenary', 'plethora', 'pliable', 'poignant', 'polemic', 'ponderous', 'portent', 'portentous', 'postulate', 'potentate', 'pragmatic', 'prattle', 'precarious', 'precedent', 'precipitate', 'preclude', 'precocious', 'predilection', 'preeminent', 'prelapsarian', 'preposterous', 'presage', 'prescient', 'presumptuous', 'pretentious', 'prevaricate', 'primordial', 'pristine', 'probity', 'proclivity', 'procrastinate', 'prodigal', 'prodigious', 'profane', 'profligate', 'profuse', 'progenitor', 'progeny', 'promulgate', 'propensity', 'propitious', 'propriety', 'prosaic', 'proscribe', 'proselytize', 'protean', 'provincial', 'provisional', 'proviso', 'prowess', 'prudent', 'prurient', 'pseudonym', 'puerile', 'pugnacious', 'punctilious', 'pungent', 'punitive', 'putative', 'quagmire', 'quaint', 'qualm', 'quandary', 'quell', 'quibble', 'quiescent', 'quintessence', 'quixotic', 'quotidian', 'raconteur', 'rakish', 'ramification', 'rancor', 'rapacious', 'rarefied', 'raucous', 'rebuff', 'rebuke', 'recant', 'recapitulate', 'recidivism', 'reclusive', 'reconcile', 'recondite', 'recreant', 'rectitude', 'redolent', 'redoubtable', 'redress', 'redundant', 'refute', 'regale', 'relegate', 'relinquish', 'remonstrate', 'renegade', 'renounce', 'renunciation', 'repartee', 'replete', 'repose', 'reprehensible', 'reprise', 'reproach', 'reprobate', 'reprove', 'repudiate', 'repugnant', 'requisite', 'rescind', 'respite', 'resplendent', 'restitution', 'restive', 'retribution', 'retrograde', 'revelry', 'revere', 'rhetoric', 'ribald', 'rife', 'riposte', 'risible', 'robust', 'rotund', 'rubric', 'rudiment', 'rue', 'ruminant', 'ruse', 'rustic', 'saccharine', 'sacrosanct', 'sagacity', 'salacious', 'salient', 'salubrious', 'salutary', 'sanctimonious', 'sanguinary', 'sardonic', 'satiate', 'savant', 'scintillate', 'scrupulous', 'scrutinize', 'scurrilous', 'secular', 'sedentary', 'sedition', 'sedate', 'seminal', 'senescent', 'sentient', 'sepulchral', 'sequester', 'serendipitous', 'servile', 'shibboleth', 'shirk', 'sibyl', 'simian', 'sinecure', 'sinister', 'skeptic', 'slake', 'slander', 'sobriety', 'sobriquet', 'solicitous', 'solipsism', 'solvent', 'somnolent', 'sonorous', 'sophistry', 'sophomoric', 'soporific', 'sordid', 'specious', 'spendthrift', 'spurious', 'squalid', 'squander', 'staid', 'steadfast', 'stentorian', 'stigma', 'stilted', 'stint', 'stipulate', 'stoic', 'stolid', 'stratagem', 'strident', 'strife', 'stringent', 'stultify', 'stymie', 'suave', 'subjugate', 'sublime', 'subliminal', 'submissive', 'subordinate', 'subsequent', 'subservient', 'subsidiary', 'subsidy', 'substantiate', 'subterfuge', 'subversive', 'succinct', 'succumb', 'suffrage', 'superfluous', 'superlative', 'supine', 'supplant', 'supple', 'supplicate', 'surfeit', 'surmise', 'surpass', 'surreptitious', 'swarthy', 'sycophant', 'syllogism', 'symbiotic', 'synchronous', 'synergy', 'synthesis', 'tangential', 'tantamount', 'tautology', 'tawdry', 'temerity', 'tempestuous', 'tenable', 'tenacious', 'tendentious', 'tenebrous', 'tenet', 'tentative', 'tenuous', 'terse', 'tether', 'timorous', 'tirade', 'titular', 'toady', 'torpid', 'torrid', 'tortuous', 'tractable', 'traduce', 'tranquility', 'transcend', 'transgression', 'transient', 'transitory', 'translucent', 'tremulous', 'trenchant', 'trepidation', 'truculent', 'tryst', 'tumultuous', 'turgid', 'turpitude', 'tutelage', 'tyranny', 'ubiquity', 'umbrage', 'unalloyed', 'uncanny', 'ungainly', 'unimpeachable', 'unmitigated', 'unobtrusive', 'unprepossessing', 'unremitting', 'unseemly', 'untenable', 'untoward', 'unwitting', 'upbraid', 'urbane', 'usurp', 'utilitarian', 'utopia', 'uxorious', 'vacillate', 'vacuous', 'vagary', 'vainglorious', 'valediction', 'vapid', 'variegated', 'vaunted', 'vehement', 'venal', 'venerable', 'venerate', 'venial', 'verdant', 'verisimilitude', 'veritable', 'vernacular', 'vex', 'viable', 'vicarious', 'vicissitude', 'vigilant', 'vilify', 'vindicate', 'vindictive', 'virulent', 'visceral', 'vitiate', 'vitriolic', 'vituperate', 'vivacious', 'vocation', 'volition', 'voluble', 'voluminous', 'voracious', 'vouchsafe', 'vulgar', 'wane', 'wanton', 'wary', 'wax', 'wheedle', 'whet', 'wistful', 'wont', 'wraith', 'wrath', 'wry', 'xenophobia', 'yoke', 'zealot', 'zenith', 'zephyr', 'abdomen', 'abrasion', 'abscess', 'acute', 'adipose', 'adrenaline', 'allergen', 'amnesia', 'amputation', 'analgesic', 'anaphylaxis', 'anemia', 'anesthesia', 'aneurysm', 'angina', 'antibiotic', 'antibody', 'anticoagulant', 'antidote', 'antihistamine', 'antipyretic', 'antiseptic', 'aorta', 'apnea', 'appendectomy', 'appendicitis', 'arrhythmia', 'arthritis', 'arthroscopy', 'aseptic', 'aspiration', 'asthma', 'asymptomatic', 'ataxia', 'atherosclerosis', 'atrium', 'atrophy', 'autopsy', 'benign', 'bilateral', 'biopsy', 'bradycardia', 'bronchitis', 'cachexia', 'calcification', 'carcinogen', 'carcinoma', 'cardiac', 'cardiovascular', 'cataract', 'catheter', 'cauterize', 'cellulitis', 'cerebellum', 'cerebral', 'cerebrovascular', 'cervical', 'cholesterol', 'chronic', 'clavicle', 'coagulation', 'cognitive', 'colonoscopy', 'comatose', 'compound', 'concussion', 'congenital', 'conjunctivitis', 'contusion', 'coronary', 'cranial', 'cyanosis', 'defibrillation', 'dehydration', 'dementia', 'dermatology', 'diabetes', 'diagnosis', 'dialysis', 'diaphragm', 'diastolic', 'disinfectant', 'dislocation', 'diuretic', 'duodenum', 'dysphagia', 'dyspnea', 'dystrophy', 'echocardiogram', 'eczema', 'edema', 'electrocardiogram', 'embolism', 'emetic', 'emphysema', 'encephalitis', 'endocrine', 'endoscopy', 'epidermis', 'epilepsy', 'epistaxis', 'esophagus', 'etiology', 'excision', 'exogenous', 'femur', 'febrile', 'fibula', 'fracture', 'frostbite', 'gangrene', 'gastric', 'gastroenteritis', 'gastrointestinal', 'geriatric', 'glaucoma', 'glucose', 'hematology', 'hematoma', 'hemodialysis', 'hemoglobin', 'hemophilia', 'hemorrhage', 'heparin', 'hepatitis', 'hereditary', 'hernia', 'histology', 'homeostasis', 'hospice', 'humerus', 'hyperglycemia', 'hypertension', 'hyperthermia', 'hypertrophy', 'hyperventilation', 'hypoglycemia', 'hypotension', 'hypothermia', 'hypoxia', 'idiopathic', 'immunization', 'immunodeficiency', 'incision', 'infarction', 'infection', 'inflammation', 'insulin', 'intravenous', 'intubation', 'ischemia', 'jaundice', 'laceration', 'laparoscopy', 'laryngitis', 'lesion', 'leukemia', 'ligament', 'lumbar', 'malignant', 'mandible', 'mastectomy', 'meningitis', 'metabolism', 'metastasis', 'morphine', 'musculoskeletal', 'myocardial', 'necrosis', 'neoplasm', 'nephrectomy', 'nephrology', 'neurology', 'neuron', 'neuropathy', 'nosocomial', 'obesity', 'obstetrics', 'occlusion', 'oncology', 'ophthalmology', 'orthopedic', 'osteoporosis', 'otolaryngology', 'pacemaker', 'palliative', 'palpation', 'pancreas', 'pandemic', 'paralysis', 'paraplegia', 'parasite', 'parenteral', 'pathogen', 'pathology', 'patella', 'pediatrics', 'percussion', 'pericardium', 'peristalsis', 'peritonitis', 'phalanges', 'pharmaceutical', 'pharyngitis', 'phlebitis', 'phlebotomy', 'placebo', 'plasma', 'platelet', 'pleura', 'pneumonia', 'polyp', 'posterior', 'postmortem', 'prognosis', 'prophylaxis', 'prostrate', 'prosthesis', 'psychiatry', 'pulmonary', 'quadriplegia', 'radiology', 'radius', 'remission', 'renal', 'respiration', 'resuscitation', 'retina', 'rheumatoid', 'scalpel', 'scapula', 'sclerosis', 'scoliosis', 'seizure', 'sepsis', 'serum', 'sphygmomanometer', 'spleen', 'sprain', 'sputum', 'stenosis', 'stent', 'sterile', 'sterilization', 'sternum', 'stethoscope', 'stroke', 'subcutaneous', 'suture', 'syncope', 'syndrome', 'systemic', 'systolic', 'tachycardia', 'tendon', 'tetanus', 'thoracic', 'thrombosis', 'thyroid', 'tibia', 'tinnitus', 'tomography', 'tonsillectomy', 'topical', 'tourniquet', 'toxin', 'trachea', 'transfusion', 'trauma', 'triage', 'tuberculosis', 'tumor', 'ulcer', 'ulna', 'ultrasound', 'urinalysis', 'urology', 'vaccine', 'vascular', 'vasoconstriction', 'vasodilation', 'vein', 'ventricle', 'vertebrae', 'vertigo', 'virus', 'vital', 'vomiting'],
      famousPeople: ['Marilyn Monroe', 'Albert Einstein', 'Leonardo da Vinci', 'Iron Man', 'Batman', 'Superman', 'Harry Potter', 'Hermione Granger', 'Luke Skywalker', 'Darth Vader', 'Sherlock Holmes', 'James Bond', 'Spider-Man', 'Wonder Woman', 'Captain America', 'Thor', 'Hulk', 'Black Widow', 'Jon Snow', 'Daenerys Targaryen', 'Marie Curie', 'Isaac Newton', 'Stephen Hawking', 'Nikola Tesla', 'Charles Darwin', 'George Washington', 'Abraham Lincoln', 'Nelson Mandela', 'Winston Churchill', 'Martin Luther King Jr.', 'Mahatma Gandhi', 'Rosa Parks', 'Mother Teresa', 'Cleopatra', 'Julius Caesar', 'Napoleon Bonaparte', 'William Shakespeare', 'Mozart', 'Beethoven', 'Pablo Picasso', 'Vincent van Gogh', 'Michelangelo', 'Frida Kahlo', 'Salvador Dali', 'Andy Warhol', 'Elvis Presley', 'The Beatles', 'Michael Jackson', 'Madonna', 'Bob Dylan', 'David Bowie', 'Freddie Mercury', 'Prince', 'Queen Elizabeth II', 'Princess Diana', 'John F. Kennedy', 'Franklin D. Roosevelt', 'Theodore Roosevelt', 'Thomas Jefferson', 'Benjamin Franklin', 'Alexander Hamilton', 'Joan of Arc', 'Alexander the Great', 'Genghis Khan', 'Marco Polo', 'Christopher Columbus', 'Amelia Earhart', 'Neil Armstrong', 'Buzz Aldrin', 'Yuri Gagarin', 'Walt Disney', 'Steve Jobs', 'Bill Gates', 'Mark Zuckerberg', 'Elon Musk', 'Oprah Winfrey', 'Ellen DeGeneres', 'Barack Obama', 'Donald Trump', 'Joe Biden', 'Hillary Clinton', 'Bernie Sanders', 'Ronald Reagan', 'Margaret Thatcher', 'Angela Merkel', 'Vladimir Putin', 'Xi Jinping', 'Dalai Lama', 'Pope Francis', 'Muhammad Ali', 'Michael Jordan', 'LeBron James', 'Serena Williams', 'Tiger Woods', 'Usain Bolt', 'Lionel Messi', 'Cristiano Ronaldo', 'Pel√©', 'Tom Brady', 'Kobe Bryant', 'Babe Ruth', 'Jackie Robinson', 'Jesse Owens', 'Billie Jean King', 'Simone Biles', 'Michael Phelps', 'Roger Federer', 'Rafael Nadal', 'Charlie Chaplin', 'Audrey Hepburn', 'Humphrey Bogart', 'James Dean', 'Elizabeth Taylor', 'Grace Kelly', 'Marlon Brando', 'Meryl Streep', 'Tom Hanks', 'Denzel Washington', 'Morgan Freeman', 'Leonardo DiCaprio', 'Brad Pitt', 'Jennifer Lawrence', 'Scarlett Johansson', 'Robert Downey Jr.', 'Tom Cruise', 'Will Smith', 'Beyonc√©', 'Taylor Swift', 'Lady Gaga', 'Rihanna', 'Adele', 'Ed Sheeran', 'Drake', 'Kanye West', 'Jay-Z', 'Eminem', 'Tupac Shakur', 'The Notorious B.I.G.', 'Bob Marley', 'Jimi Hendrix', 'Kurt Cobain', 'John Lennon', 'Paul McCartney', 'Mick Jagger', 'Bruce Springsteen', 'Frank Sinatra', 'Ella Fitzgerald', 'Louis Armstrong', 'Miles Davis', 'Aretha Franklin', 'Ray Charles', 'Johnny Cash', 'Dolly Parton', 'George Orwell', 'Ernest Hemingway', 'Mark Twain', 'Jane Austen', 'Charles Dickens', 'J.K. Rowling', 'Stephen King', 'Maya Angelou', 'Toni Morrison', 'F. Scott Fitzgerald', 'Virginia Woolf', 'Oscar Wilde', 'Edgar Allan Poe', 'Homer Simpson', 'Mickey Mouse', 'Bugs Bunny', 'Mario', 'Pikachu', 'Shrek']
    };<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Word Randomizer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .hidden { display: none !important; }
    body { margin: 0; padding: 0; }
    #canvas { 
      touch-action: none; 
      cursor: crosshair;
      border: 2px solid #4E5987;
    }
  </style>
</head>
<body style="background-color: #D4E4DD;" class="min-h-screen p-4 md:p-8">
  <div class="max-w-6xl mx-auto" id="app">
    <h1 class="text-3xl md:text-4xl font-bold text-center mb-2" style="color: #4E5987;">Word Randomizer</h1>
    <p class="text-center text-gray-600 mb-8">For games with friends for fun</p>

    <!-- Lobby -->
    <div id="lobby">
      <div class="grid md:grid-cols-2 gap-6">
        <div class="rounded-lg shadow-md p-4 md:p-6" style="background-color: #F5E6D3;">
          <h2 class="text-xl md:text-2xl font-bold mb-4" style="color: #4E5987;">Create Room</h2>
          <input type="text" id="createPlayerName" placeholder="Your name" class="w-full px-4 py-2 mb-3 border rounded-lg" maxlength="20">
          <input type="password" id="createPassword" placeholder="Set password (min 4 chars)" class="w-full px-4 py-2 mb-4 border rounded-lg" minlength="4">
          <button onclick="createRoom()" class="w-full px-6 py-3 text-white rounded-lg font-semibold hover:opacity-90" style="background-color: #1EA7D8;">Create Room</button>
        </div>
        <div class="rounded-lg shadow-md p-4 md:p-6" style="background-color: #F5E6D3;">
          <h2 class="text-xl md:text-2xl font-bold mb-4" style="color: #4E5987;">Join Room</h2>
          <input type="text" id="joinPlayerName" placeholder="Your name" class="w-full px-4 py-2 mb-3 border rounded-lg" maxlength="20">
          <input type="text" id="joinRoomCode" placeholder="4-digit room code" class="w-full px-4 py-2 mb-3 border rounded-lg" maxlength="4">
          <input type="password" id="joinPassword" placeholder="Room password" class="w-full px-4 py-2 mb-4 border rounded-lg">
          <button onclick="joinRoom()" class="w-full px-6 py-3 text-white rounded-lg font-semibold hover:opacity-90" style="background-color: #E85987;">Join Room</button>
        </div>
      </div>
    </div>

    <!-- Game Room -->
    <div id="gameRoom" class="hidden">
      <div class="rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <div class="flex flex-col md:flex-row justify-between md:items-center gap-2">
          <div>
            <h2 class="text-lg md:text-xl font-semibold">Room: <span id="roomCodeDisplay" class="font-bold text-xl md:text-2xl" style="color: #1EA7D8;"></span></h2>
            <p class="text-sm text-gray-600">You are: <span id="currentPlayerName" class="font-semibold" style="color: #E85987;"></span></p>
          </div>
          <button onclick="leaveRoom()" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 w-full md:w-auto">Leave</button>
        </div>
      </div>

      <div class="rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <h3 class="font-semibold mb-4">Players in Room (<span id="playerCount">0</span>/12)</h3>
        <button onclick="randomizeTeams()" class="w-full px-6 py-2 text-white rounded-lg mb-4" style="background-color: #5E5394;">‚ö° Randomize Teams</button>
        <div id="adminScoreControls" class="hidden mb-4 flex gap-2">
          <button onclick="resetScores()" class="flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg text-sm">Reset All Scores</button>
        </div>
        <div id="playersList" class="space-y-2"></div>
      </div>

      <div class="rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <h3 class="font-semibold mb-2">Game Mode:</h3>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 mb-4">
          <button onclick="setGameMode('all_see')" id="mode_all_see" class="px-4 py-2 rounded-lg text-sm">Everyone Sees</button>
          <button onclick="setGameMode('team_alternate')" id="mode_team_alternate" class="px-4 py-2 rounded-lg text-sm">Team Alternating</button>
          <button onclick="setGameMode('random_player')" id="mode_random_player" class="px-4 py-2 rounded-lg text-sm">Random Player Excluded</button>
        </div>
        
        <div id="adminSettings" class="hidden mb-4 p-3 rounded-lg bg-yellow-50 border-2 border-yellow-300">
          <h4 class="font-semibold text-sm mb-2">‚öôÔ∏è Admin Settings</h4>
          <div class="space-y-2">
            <label class="flex items-center gap-2 cursor-pointer">
              <input type="checkbox" id="forceAnonymous" onclick="toggleAnonymousMode()" class="w-4 h-4">
              <span class="text-sm">Force anonymous submissions</span>
            </label>
            <div class="flex flex-wrap gap-2 items-center">
              <span class="text-sm font-medium">Default timer:</span>
              <button onclick="setDefaultTimer(30)" id="default_timer30" class="px-2 py-1 rounded text-xs bg-gray-200">30s</button>
              <button onclick="setDefaultTimer(60)" id="default_timer60" class="px-2 py-1 rounded text-xs bg-gray-200">60s</button>
              <button onclick="setDefaultTimer(90)" id="default_timer90" class="px-2 py-1 rounded text-xs bg-gray-200">90s</button>
              <button onclick="setDefaultTimer(120)" id="default_timer120" class="px-2 py-1 rounded text-xs bg-gray-200">120s</button>
            </div>
            <div class="flex gap-2 items-center pt-2">
              <button onclick="toggleTimer()" id="timerControlBtn" class="px-4 py-2 rounded text-sm text-white" style="background-color: #1EA7D8;">Start Timer</button>
              <button onclick="placeBets()" id="placeBetsBtn" class="px-4 py-2 rounded text-sm text-white" style="background-color: #E85987;">Place Bets!</button>
            </div>
          </div>
        </div>
        
        <h3 class="font-semibold mb-2">Word Categories:</h3>
        <div class="grid grid-cols-2 gap-2">
          <label class="flex items-center gap-2 cursor-pointer px-3 py-2 rounded-lg text-sm" style="background-color: #1b1531; color: white;">
            <input type="checkbox" id="cat_nouns" checked onclick="toggleCategory('nouns')">
            <span>Nouns</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer px-3 py-2 rounded-lg text-sm" style="background-color: #1b1531; color: white;">
            <input type="checkbox" id="cat_adjectives" checked onclick="toggleCategory('adjectives')">
            <span>Adjectives</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer px-3 py-2 rounded-lg text-sm" style="background-color: #1b1531; color: white;">
            <input type="checkbox" id="cat_fancy" onclick="toggleCategory('fancyWords')">
            <span>Fancy Words</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer px-3 py-2 rounded-lg text-sm" style="background-color: #1b1531; color: white;">
            <input type="checkbox" id="cat_famous" onclick="toggleCategory('famousPeople')">
            <span>Famous People</span>
          </label>
        </div>
      </div>

      <div class="text-center mb-6 rounded-lg shadow-md p-4 md:p-6" style="background-color: #F5E6D3;">
        <button onclick="generateWord()" class="w-full px-6 md:px-8 py-3 md:py-4 text-white rounded-lg text-lg md:text-xl font-semibold" style="background-color: #1EA7D8;">üé≤ Generate Word</button>
      </div>

      <div id="playersDisplay"></div>

      <!-- Answer Submission Area -->
      <div id="answerSection" class="hidden rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <h3 class="font-semibold mb-3">Don't have pen and paper? Write or draw your answer here:</h3>
        
        <div class="mb-3 flex flex-wrap gap-2 items-center">
          <button onclick="setAnswerMode('draw')" id="mode_draw" class="px-4 py-2 rounded text-sm" style="background-color: #5E5394; color: white;">üé® Draw</button>
          <button onclick="setAnswerMode('text')" id="mode_text" class="px-4 py-2 rounded text-sm bg-gray-200">‚úèÔ∏è Text</button>
          <span class="text-sm font-medium ml-auto">Timer:</span>
          <div id="timerDisplay" class="text-2xl font-bold" style="color: #E85987;">--</div>
        </div>

        <!-- Drawing Mode -->
        <div id="drawMode">
          <div class="mb-3 flex flex-wrap gap-2">
            <button onclick="setTool('pen')" id="tool_pen" class="px-3 py-1 rounded text-sm" style="background-color: #5E5394; color: white;">‚úèÔ∏è Pen</button>
            <button onclick="setTool('eraser')" id="tool_eraser" class="px-3 py-1 rounded text-sm bg-gray-200">üßπ Eraser</button>
            <button onclick="clearCanvas()" class="px-3 py-1 rounded text-sm bg-gray-200">üóëÔ∏è Clear</button>
            <input type="color" id="colorPicker" value="#000000" class="h-8 w-12 rounded">
            <input type="range" id="brushSize" min="1" max="20" value="3" class="flex-1 min-w-[100px]">
          </div>
          <canvas id="canvas" width="600" height="400" class="w-full bg-white rounded-lg mb-3"></canvas>
        </div>

        <!-- Text Mode -->
        <div id="textMode" class="hidden">
          <textarea id="textAnswer" placeholder="Type your answer here..." class="w-full h-64 p-4 border-2 rounded-lg mb-3 text-lg" style="border-color: #4E5987;"></textarea>
        </div>
        
        <div class="flex gap-2">
          <button onclick="submitAnswer()" id="submitBtn" class="flex-1 px-6 py-3 text-white rounded-lg font-semibold" style="background-color: #E85987;">Submit Answer</button>
          <div id="submissionStatus" class="flex-1 px-6 py-3 bg-gray-100 rounded-lg text-center font-medium text-gray-600">
            Waiting: <span id="submittedCount">0</span>/<span id="totalPlayers">0</span>
          </div>
        </div>
      </div>

      <!-- Answer Display Section -->
      <div id="answersSection" class="hidden rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <h3 class="font-semibold mb-3">Submitted Answers</h3>
        
        <div class="mb-4 flex flex-wrap gap-2">
          <span class="text-sm font-medium">Show to:</span>
          <button onclick="setAnswerVisibility('all')" id="vis_all" class="px-3 py-1 rounded text-sm bg-gray-200">All</button>
          <button onclick="setAnswerVisibility('active_team')" id="vis_active" class="px-3 py-1 rounded text-sm bg-gray-200">Active Team</button>
          <button onclick="setAnswerVisibility('waiting_team')" id="vis_waiting" class="px-3 py-1 rounded text-sm bg-gray-200">Waiting Team</button>
          <button onclick="setAnswerVisibility('excluded')" id="vis_excluded" class="px-3 py-1 rounded text-sm bg-gray-200">Excluded Player</button>
          <button onclick="showAnswers()" class="px-4 py-1 rounded text-sm text-white ml-auto" style="background-color: #1EA7D8;">üìñ Read Answers</button>
        </div>

        <div id="answersList" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
      </div>

      <!-- Betting Section -->
      <div id="bettingSection" class="hidden rounded-lg shadow-md p-4 md:p-6 mb-6" style="background-color: #F5E6D3;">
        <h3 class="font-semibold mb-3">Place Your Bet!</h3>
        <p class="text-sm text-gray-600 mb-4">Navigate through answers and select which one you think matches the word best.</p>
        
        <div class="mb-4 flex justify-between items-center">
          <button onclick="prevAnswer()" class="px-4 py-2 rounded text-white" style="background-color: #5E5394;">‚Üê Previous</button>
          <span class="font-semibold">Answer <span id="currentAnswerIndex">1</span> of <span id="totalAnswers">0</span></span>
          <button onclick="nextAnswer()" class="px-4 py-2 rounded text-white" style="background-color: #5E5394;">Next ‚Üí</button>
        </div>

        <div id="currentAnswerDisplay" class="bg-white rounded-lg p-6 mb-4 min-h-[300px] flex items-center justify-center"></div>

        <button onclick="selectAnswer()" id="selectAnswerBtn" class="w-full px-6 py-3 text-white rounded-lg font-semibold text-lg" style="background-color: #E85987;">This One!</button>
        
        <div id="betStatus" class="hidden mt-4 p-3 bg-green-100 rounded-lg text-center">
          <p class="font-semibold text-green-800">‚úì Bet Placed!</p>
        </div>
      </div>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getDatabase, ref, set, onValue, update } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

    const firebaseConfig = {
      apiKey: "AIzaSyAtcCz7buZmEoLflrxKcf7vFYY3YOG5gdM",
      authDomain: "nounsandfrowns.firebaseapp.com",
      databaseURL: "https://nounsandfrowns-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "nounsandfrowns",
      storageBucket: "nounsandfrowns.firebasestorage.app",
      messagingSenderId: "948424078081",
      appId: "1:948424078081:web:8dcae9f01988fd8a7ca100"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    window.db = db;
    window.roomCode = null;
    window.currentPlayerId = null;
    window.currentPlayerName = null;
    window.roomAdminId = null;

    // Canvas setup
    let canvas, ctx;
    let drawing = false;
    let currentTool = 'pen';
    let currentColor = '#000000';
    let brushSize = 3;
    let timerInterval = null;
    let selectedTimer = 60;
    let timeRemaining = 0;
    let answerMode = 'draw';
    let timerRunning = false;
    let bettingAnswers = [];
    let currentBettingIndex = 0;

    window.WORDS = {
      nouns: ['elephant', 'mountain', 'symphony', 'laboratory', 'adventure', 'telescope', 'cathedral', 'volcano', 'library', 'hurricane', 'galaxy', 'fortress', 'ocean', 'pyramid', 'metropolis', 'compass', 'desert', 'waterfall', 'monastery', 'carnival', 'labyrinth', 'meadow', 'archipelago', 'castle', 'valley', 'aurora', 'canyon', 'jungle', 'peninsula', 'sanctuary', 'butterfly', 'dragon', 'unicorn', 'phoenix', 'lighthouse', 'glacier', 'earthquake', 'tornado', 'avalanche', 'eclipse', 'comet', 'nebula', 'asteroid', 'satellite', 'rocket', 'submarine', 'helicopter', 'parachute', 'microscope', 'binoculars'],
      adjectives: ['magnificent', 'peculiar', 'tremendous', 'delicate', 'mysterious', 'brilliant', 'ancient', 'graceful', 'turbulent', 'serene', 'spectacular', 'elegant', 'ferocious', 'luminous', 'tranquil', 'vibrant', 'majestic', 'bizarre', 'harmonious', 'resilient', 'exquisite', 'radiant', 'enigmatic', 'colossal', 'whimsical', 'pristine', 'formidable', 'ethereal', 'splendid', 'dazzling', 'gleaming', 'shimmering', 'sparkling', 'glittering', 'blazing', 'glowing', 'flickering', 'twinkling', 'shining', 'vivid', 'bold', 'striking', 'dramatic', 'intense', 'powerful', 'mighty', 'strong', 'robust', 'sturdy', 'solid'],
      fancyWords: ['obsequious', 'perspicacious', 'recalcitrant', 'ephemeral', 'ubiquitous', 'vociferous', 'pulchritude', 'quintessential', 'serendipity', 'lackadaisical', 'magnanimous', 'nefarious', 'obfuscate', 'perfidious', 'pusillanimous', 'querulous', 'sagacious', 'sanguine', 'taciturn', 'unctuous', 'verbose', 'zealous'],
      famousPeople: ['Marilyn Monroe', 'Albert Einstein', 'Leonardo da Vinci', 'Iron Man', 'Batman', 'Superman', 'Harry Potter', 'Hermione Granger', 'Luke Skywalker', 'Darth Vader', 'Sherlock Holmes', 'James Bond', 'Spider-Man', 'Wonder Woman', 'Captain America', 'Thor', 'Hulk', 'Black Widow', 'Jon Snow', 'Daenerys Targaryen', 'Marie Curie', 'Isaac Newton', 'Stephen Hawking', 'Nikola Tesla', 'Charles Darwin', 'George Washington', 'Abraham Lincoln', 'Nelson Mandela', 'Winston Churchill', 'Martin Luther King Jr.', 'Mahatma Gandhi', 'Rosa Parks', 'Mother Teresa', 'Cleopatra', 'Julius Caesar', 'Napoleon Bonaparte']
    };

    function initCanvas() {
      canvas = document.getElementById('canvas');
      ctx = canvas.getContext('2d');
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';

      canvas.addEventListener('mousedown', startDrawing);
      canvas.addEventListener('mousemove', draw);
      canvas.addEventListener('mouseup', stopDrawing);
      canvas.addEventListener('mouseout', stopDrawing);

      canvas.addEventListener('touchstart', handleTouch);
      canvas.addEventListener('touchmove', handleTouch);
      canvas.addEventListener('touchend', stopDrawing);

      document.getElementById('colorPicker').addEventListener('change', (e) => {
        currentColor = e.target.value;
      });

      document.getElementById('brushSize').addEventListener('input', (e) => {
        brushSize = e.target.value;
      });
    }

    function startDrawing(e) {
      drawing = true;
      const rect = canvas.getBoundingClientRect();
      const scaleX = canvas.width / rect.width;
      const scaleY = canvas.height / rect.height;
      const x = (e.clientX - rect.left) * scaleX;
      const y = (e.clientY - rect.top) * scaleY;
      ctx.beginPath();
      ctx.moveTo(x, y);
    }

    function draw(e) {
      if (!drawing) return;
      const rect = canvas.getBoundingClientRect();
      const scaleX = canvas.width / rect.width;
      const scaleY = canvas.height / rect.height;
      const x = (e.clientX - rect.left) * scaleX;
      const y = (e.clientY - rect.top) * scaleY;
      
      ctx.lineWidth = brushSize;
      ctx.strokeStyle = currentTool === 'eraser' ? '#ffffff' : currentColor;
      ctx.lineTo(x, y);
      ctx.stroke();
    }

    function stopDrawing() {
      drawing = false;
    }

    function handleTouch(e) {
      e.preventDefault();
      const touch = e.touches[0];
      const mouseEvent = new MouseEvent(e.type === 'touchstart' ? 'mousedown' : e.type === 'touchmove' ? 'mousemove' : 'mouseup', {
        clientX: touch.clientX,
        clientY: touch.clientY
      });
      canvas.dispatchEvent(mouseEvent);
    }

    window.setTool = function(tool) {
      currentTool = tool;
      document.getElementById('tool_pen').style.backgroundColor = tool === 'pen' ? '#5E5394' : '#E5E7EB';
      document.getElementById('tool_pen').style.color = tool === 'pen' ? '#fff' : '#000';
      document.getElementById('tool_eraser').style.backgroundColor = tool === 'eraser' ? '#5E5394' : '#E5E7EB';
      document.getElementById('tool_eraser').style.color = tool === 'eraser' ? '#fff' : '#000';
    };

    window.clearCanvas = function() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    };

    window.setAnswerMode = function(mode) {
      answerMode = mode;
      document.getElementById('mode_draw').style.backgroundColor = mode === 'draw' ? '#5E5394' : '#E5E7EB';
      document.getElementById('mode_draw').style.color = mode === 'draw' ? '#fff' : '#000';
      document.getElementById('mode_text').style.backgroundColor = mode === 'text' ? '#5E5394' : '#E5E7EB';
      document.getElementById('mode_text').style.color = mode === 'text' ? '#fff' : '#000';
      
      if (mode === 'draw') {
        document.getElementById('drawMode').classList.remove('hidden');
        document.getElementById('textMode').classList.add('hidden');
      } else {
        document.getElementById('drawMode').classList.add('hidden');
        document.getElementById('textMode').classList.remove('hidden');
      }
    };

    window.setTimer = function(seconds) {
      selectedTimer = seconds;
    };

    window.setDefaultTimer = async function(seconds) {
      await update(ref(db, `rooms/${window.roomCode}`), { defaultTimer: seconds });
    };

    window.toggleAnonymousMode = async function() {
      const checked = document.getElementById('forceAnonymous').checked;
      await update(ref(db, `rooms/${window.roomCode}`), { forceAnonymous: checked });
    };

    window.startTimer = function() {
      if (timerInterval) clearInterval(timerInterval);
      timeRemaining = selectedTimer;
      timerRunning = true;
      updateTimerButton();
      document.getElementById('timerDisplay').textContent = timeRemaining + 's';
      
      timerInterval = setInterval(() => {
        timeRemaining--;
        document.getElementById('timerDisplay').textContent = timeRemaining + 's';
        if (timeRemaining <= 0) {
          clearInterval(timerInterval);
          timerRunning = false;
          updateTimerButton();
          document.getElementById('timerDisplay').textContent = 'TIME!';
        }
      }, 1000);
    };

    window.stopTimer = function() {
      if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
      }
      timerRunning = false;
      updateTimerButton();
    };

    window.toggleTimer = function() {
      if (timerRunning) {
        stopTimer();
      } else {
        startTimer();
      }
    };

    function updateTimerButton() {
      const btn = document.getElementById('timerControlBtn');
      if (btn) {
        btn.textContent = timerRunning ? 'Stop Timer' : 'Start Timer';
        btn.style.backgroundColor = timerRunning ? '#EF4444' : '#1EA7D8';
      }
    }

    window.placeBets = async function() {
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        if (!data.submissions || Object.keys(data.submissions).length === 0) {
          return alert('No answers submitted yet!');
        }
        
        await update(ref(db, `rooms/${window.roomCode}`), { 
          bettingMode: true,
          bets: {}
        });
        
        // Start 30 second timer for betting
        stopTimer();
        selectedTimer = 30;
        startTimer();
      }, { onlyOnce: true });
    };

    window.prevAnswer = function() {
      if (currentBettingIndex > 0) {
        currentBettingIndex--;
        displayCurrentBettingAnswer();
      }
    };

    window.nextAnswer = function() {
      if (currentBettingIndex < bettingAnswers.length - 1) {
        currentBettingIndex++;
        displayCurrentBettingAnswer();
      }
    };

    window.selectAnswer = async function() {
      if (bettingAnswers.length === 0) return;
      
      const selectedAnswer = bettingAnswers[currentBettingIndex];
      
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        const bets = data.bets || {};
        bets[window.currentPlayerId] = {
          playerId: window.currentPlayerId,
          selectedAnswerId: selectedAnswer.playerId,
          timestamp: Date.now()
        };
        
        await update(ref(db, `rooms/${window.roomCode}`), { bets });
        document.getElementById('betStatus').classList.remove('hidden');
        document.getElementById('selectAnswerBtn').disabled = true;
      }, { onlyOnce: true });
    };

    function displayCurrentBettingAnswer() {
      if (bettingAnswers.length === 0) return;
      
      const answer = bettingAnswers[currentBettingIndex];
      const container = document.getElementById('currentAnswerDisplay');
      
      if (answer.answerType === 'text') {
        container.innerHTML = `<div class="text-2xl font-medium text-center p-4">${answer.answer}</div>`;
      } else {
        container.innerHTML = `<img src="${answer.answer}" class="max-w-full max-h-[400px] rounded">`;
      }
      
      document.getElementById('currentAnswerIndex').textContent = currentBettingIndex + 1;
    }

    window.adjustScore = async function(playerId, amount) {
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        const players = data.players.map(p => {
          if (p.id === playerId) {
            return { ...p, score: (p.score || 0) + amount };
          }
          return p;
        });
        await update(ref(db, `rooms/${window.roomCode}`), { players });
      }, { onlyOnce: true });
    };

    window.resetScores = async function() {
      if (!confirm('Reset all player scores to 0?')) return;
      
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        const players = data.players.map(p => ({ ...p, score: 0 }));
        await update(ref(db, `rooms/${window.roomCode}`), { players });
      }, { onlyOnce: true });
    };

    // Auto-start timer when word is generated
    window.autoStartTimer = function(defaultTime) {
      selectedTimer = defaultTime || 60;
      window.startTimer();
    };

    window.submitAnswer = async function() {
      let answerData;
      let answerType;
      
      if (answerMode === 'draw') {
        answerData = canvas.toDataURL();
        answerType = 'drawing';
      } else {
        answerData = document.getElementById('textAnswer').value.trim();
        if (!answerData) return alert('Please enter your answer');
        answerType = 'text';
      }
      
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        const isAnonymous = data.forceAnonymous || false;
        const submissions = data.submissions || {};
        submissions[window.currentPlayerId] = {
          playerId: window.currentPlayerId,
          playerName: isAnonymous ? 'Anonymous' : window.currentPlayerName,
          answer: answerData,
          answerType: answerType,
          timestamp: Date.now(),
          isAnonymous: isAnonymous
        };
        
        await update(ref(db, `rooms/${window.roomCode}`), { submissions });
        document.getElementById('submitBtn').disabled = true;
        document.getElementById('submitBtn').textContent = '‚úì Submitted';
      }, { onlyOnce: true });
    };

    window.setAnswerVisibility = function(vis) {
      ['all', 'active_team', 'waiting_team', 'excluded'].forEach(v => {
        const btn = document.getElementById(`vis_${v}`);
        btn.style.backgroundColor = v === vis ? '#5E5394' : '#E5E7EB';
        btn.style.color = v === vis ? '#fff' : '#000';
      });
      window.currentAnswerVisibility = vis;
    };

    window.showAnswers = function() {
      onValue(ref(db, `rooms/${window.roomCode}`), (snap) => {
        const data = snap.val();
        if (!data.submissions) return;
        
        const submissions = Object.values(data.submissions);
        const shuffled = submissions.sort(() => Math.random() - 0.5);
        
        let filtered = shuffled;
        const vis = window.currentAnswerVisibility || 'all';
        
        if (vis !== 'all') {
          filtered = shuffled.filter(sub => {
            const player = data.players.find(p => p.id === sub.playerId);
            if (!player) return false;
            
            if (vis === 'excluded') {
              return player.id === data.excludedPlayer;
            } else if (vis === 'active_team') {
              const teamASees = data.round % 2 === 1;
              return (player.team === 'A' && teamASees) || (player.team === 'B' && !teamASees);
            } else if (vis === 'waiting_team') {
              const teamASees = data.round % 2 === 1;
              return (player.team === 'A' && !teamASees) || (player.team === 'B' && teamASees);
            }
            return true;
          });
        }
        
        const container = document.getElementById('answersList');
        container.innerHTML = filtered.map((sub, idx) => {
          const isText = sub.answerType === 'text';
          const content = isText 
            ? `<div class="bg-white rounded p-4 text-center text-xl font-medium break-words answer-content-${idx}">${sub.answer}</div>`
            : `<img src="${sub.answer}" class="w-full rounded answer-content-${idx}">`;
          
          return `
            <div class="bg-white rounded-lg p-3 shadow" id="answer_${idx}">
              <div class="flex justify-end mb-2">
                <button onclick="toggleAnswer(${idx})" class="px-2 py-1 text-xs rounded" style="background-color: #5E5394; color: white;">Hide</button>
              </div>
              ${content}
            </div>
          `;
        }).join('');
      }, { onlyOnce: true });
    };

    window.toggleAnswer = function(idx) {
      const answerDiv = document.getElementById(`answer_${idx}`);
      const content = answerDiv.querySelector(`.answer-content-${idx}`);
      const btn = answerDiv.querySelector('button');
      
      if (content.style.display === 'none') {
        content.style.display = 'block';
        btn.textContent = 'Hide';
      } else {
        content.style.display = 'none';
        btn.textContent = 'Show';
      }
    };

    window.createRoom = async function() {
      const name = document.getElementById('createPlayerName').value.trim();
      const pwd = document.getElementById('createPassword').value;
      
      if (!name) return alert('Enter your name');
      if (!pwd || pwd.length < 4) return alert('Password must be 4+ chars');
      
      const code = Math.floor(1000 + Math.random() * 9000).toString();
      const playerId = Date.now();
      
      window.currentPlayerId = playerId;
      window.currentPlayerName = name;
      window.roomAdminId = playerId;
      
      await set(ref(db, `rooms/${code}`), {
        password: pwd,
        adminId: playerId,
        players: [{ id: playerId, name, team: null, score: 0 }],
        currentWord: '',
        currentWordType: '',
        gameMode: 'all_see',
        round: 0,
        excludedPlayer: null,
        wordCategories: { nouns: true, adjectives: true, famousPeople: false, fancyWords: false },
        showDefinitions: {},
        submissions: {},
        answerVisibility: 'all',
        forceAnonymous: false,
        defaultTimer: 60
      });
      
      window.roomCode = code;
      document.getElementById('lobby').classList.add('hidden');
      document.getElementById('gameRoom').classList.remove('hidden');
      document.getElementById('roomCodeDisplay').textContent = code;
      document.getElementById('currentPlayerName').textContent = name;
      initCanvas();
      listenToRoom(code);
    };

    window.joinRoom = async function() {
      const name = document.getElementById('joinPlayerName').value.trim();
      const code = document.getElementById('joinRoomCode').value;
      const pwd = document.getElementById('joinPassword').value;
      
      if (!name) return alert('Enter your name');
      if (!code || !pwd) return alert('Enter code and password');
      
      onValue(ref(db, `rooms/${code}`), async (snap) => {
        const data = snap.val();
        if (!data) return alert('Room not found');
        if (data.password !== pwd) return alert('Wrong password');
        
        const players = data.players || [];
        if (players.length >= 12) return alert('Room full (12 players max)');
        
        const playerId = Date.now();
        window.currentPlayerId = playerId;
        window.currentPlayerName = name;
        window.roomAdminId = data.adminId;
        
        players.push({ id: playerId, name, team: null, score: 0 });
        await update(ref(db, `rooms/${code}`), { players });
        
        window.roomCode = code;
        document.getElementById('lobby').classList.add('hidden');
        document.getElementById('gameRoom').classList.remove('hidden');
        document.getElementById('roomCodeDisplay').textContent = code;
        document.getElementById('currentPlayerName').textContent = name;
        initCanvas();
        listenToRoom(code);
      }, { onlyOnce: true });
    };

    function listenToRoom(code) {
      onValue(ref(db, `rooms/${code}`), (snap) => {
        const data = snap.val();
        if (data) updateUI(data);
      });
    }

    function updateUI(data) {
      document.getElementById('playerCount').textContent = data.players ? data.players.length : 0;
      
      // Show/hide admin settings
      const isAdmin = window.currentPlayerId === data.adminId;
      const adminPanel = document.getElementById('adminSettings');
      if (isAdmin) {
        adminPanel.classList.remove('hidden');
        // Update admin settings
        document.getElementById('forceAnonymous').checked = data.forceAnonymous || false;
        const defaultTimer = data.defaultTimer || 60;
        [30, 60, 90, 120].forEach(s => {
          const btn = document.getElementById(`default_timer${s}`);
          if (btn) {
            btn.style.backgroundColor = s === defaultTimer ? '#5E5394' : '#E5E7EB';
            btn.style.color = s === defaultTimer ? '#fff' : '#000';
          }
        });
      } else {
        adminPanel.classList.add('hidden');
      }
      
      // Set timer based on default
      if (data.defaultTimer) {
        selectedTimer = data.defaultTimer;
      }
      
      const list = document.getElementById('playersList');
      list.innerHTML = '';
      if (data.players && data.players.length > 0) {
        data.players.forEach(p => {
          const div = document.createElement('div');
          const isCurrentPlayer = p.id === window.currentPlayerId;
          const score = p.score || 0;
          div.className = `flex flex-col sm:flex-row items-stretch sm:items-center gap-2 p-2 rounded ${isCurrentPlayer ? 'bg-yellow-100 border-2 border-yellow-400' : 'bg-gray-50'}`;
          div.innerHTML = `
            <span class="flex-1 font-medium text-sm">${p.name}${isCurrentPlayer ? ' (You)' : ''} <span class="ml-2 px-2 py-1 rounded text-xs" style="background-color: #E8F4D0;">Score: ${score}</span></span>
            <div class="flex gap-1">
              <button onclick="setTeam(${p.id}, 'A')" class="flex-1 sm:flex-none px-2 py-1 rounded text-white text-xs" style="background-color: ${p.team === 'A' ? '#5E5394' : '#E5E7EB'}; color: ${p.team === 'A' ? '#fff' : '#000'}">Team A</button>
              <button onclick="setTeam(${p.id}, 'B')" class="flex-1 sm:flex-none px-2 py-1 rounded text-white text-xs" style="background-color: ${p.team === 'B' ? '#E85987' : '#E5E7EB'}; color: ${p.team === 'B' ? '#fff' : '#000'}">Team B</button>
              <button onclick="setTeam(${p.id}, null)" class="flex-1 sm:flex-none px-2 py-1 rounded text-xs ${p.team === null ? 'bg-gray-400 text-white' : 'bg-gray-200'}">None</button>
              <button onclick="removePlayer(${p.id})" class="flex-1 sm:flex-none px-2 py-1 bg-red-500 text-white rounded text-xs">Remove</button>
              ${isAdmin ? `<button onclick="adjustScore(${p.id}, 1)" class="flex-1 sm:flex-none px-2 py-1 bg-green-500 text-white rounded text-xs">+</button>` : ''}
              ${isAdmin ? `<button onclick="adjustScore(${p.id}, -1)" class="flex-1 sm:flex-none px-2 py-1 bg-orange-500 text-white rounded text-xs">-</button>` : ''}
            </div>
          `;
          list.appendChild(div);
        });
      }
      
      // Show/hide admin score controls
      if (isAdmin) {
        document.getElementById('adminScoreControls').classList.remove('hidden');
      } else {
        document.getElementById('adminScoreControls').classList.add('hidden');
      }
      
      ['all_see', 'team_alternate', 'random_player'].forEach(mode => {
        const btn = document.getElementById(`mode_${mode}`);
        if (data.gameMode === mode) {
          btn.style.backgroundColor = '#29522d';
          btn.style.color = '#fff';
        } else {
          btn.style.backgroundColor = '#E8F4D0';
          btn.style.color = '#000';
        }
      });
      
      if (data.wordCategories) {
        document.getElementById('cat_nouns').checked = data.wordCategories.nouns;
        document.getElementById('cat_adjectives').checked = data.wordCategories.adjectives;
        document.getElementById('cat_fancy').checked = data.wordCategories.fancyWords;
        document.getElementById('cat_famous').checked = data.wordCategories.famousPeople;
      }
      
      displayPlayerCards(data);
      updateSubmissionStatus(data);
      updateBettingSection(data);
    }

    function updateBettingSection(data) {
      const bettingSection = document.getElementById('bettingSection');
      
      if (data.bettingMode && data.submissions) {
        bettingSection.classList.remove('hidden');
        
        // Prepare answers for betting
        bettingAnswers = Object.values(data.submissions).sort(() => Math.random() - 0.5);
        document.getElementById('totalAnswers').textContent = bettingAnswers.length;
        
        if (bettingAnswers.length > 0) {
          currentBettingIndex = 0;
          displayCurrentBettingAnswer();
        }
        
        // Check if current player has already bet
        if (data.bets && data.bets[window.currentPlayerId]) {
          document.getElementById('betStatus').classList.remove('hidden');
          document.getElementById('selectAnswerBtn').disabled = true;
        } else {
          document.getElementById('betStatus').classList.add('hidden');
          document.getElementById('selectAnswerBtn').disabled = false;
        }
      } else {
        bettingSection.classList.add('hidden');
      }
    }

    function updateSubmissionStatus(data) {
      if (!data.currentWord) {
        document.getElementById('answerSection').classList.add('hidden');
        document.getElementById('answersSection').classList.add('hidden');
        return;
      }
      
      document.getElementById('answerSection').classList.remove('hidden');
      
      const submissions = data.submissions || {};
      const submittedCount = Object.keys(submissions).length;
      const totalPlayers = data.players ? data.players.length : 0;
      
      document.getElementById('submittedCount').textContent = submittedCount;
      document.getElementById('totalPlayers').textContent = totalPlayers;
      
      if (submissions[window.currentPlayerId]) {
        document.getElementById('submitBtn').disabled = true;
        document.getElementById('submitBtn').textContent = '‚úì Submitted';
      } else {
        document.getElementById('submitBtn').disabled = false;
        document.getElementById('submitBtn').textContent = 'Submit Answer';
      }
      
      if (submittedCount > 0 && submittedCount === totalPlayers) {
        document.getElementById('answersSection').classList.remove('hidden');
      }
    }

    function displayPlayerCards(data) {
      const container = document.getElementById('playersDisplay');
      if (!data.currentWord || !data.players || data.players.length === 0) {
        container.innerHTML = '';
        return;
      }
      
      const teamA = data.players.filter(p => p.team === 'A');
      const teamB = data.players.filter(p => p.team === 'B');
      const noTeam = data.players.filter(p => !p.team);
      
      let html = '';
      
      if (noTeam.length > 0) {
        html += '<h3 class="text-lg font-semibold mb-2 text-gray-700">No Team</h3><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4">';
        noTeam.forEach(p => html += createPlayerCard(p, data, null));
        html += '</div>';
      }
      
      if (teamA.length > 0) {
        html += '<h3 class="text-lg font-semibold mb-2" style="color: #5E5394;">Team A</h3><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4">';
        teamA.forEach(p => html += createPlayerCard(p, data, 'A'));
        html += '</div>';
      }
      
      if (teamB.length > 0) {
        html += '<h3 class="text-lg font-semibold mb-2" style="color: #E85987;">Team B</h3><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4">';
        teamB.forEach(p => html += createPlayerCard(p, data, 'B'));
        html += '</div>';
      }
      
      container.innerHTML = html;
    }

    function createPlayerCard(player, data, team) {
      const canSee = canPlayerSeeWord(player, data);
      const borderColor = team === 'A' ? '#5E5394' : team === 'B' ? '#E85987' : '#D1D5DB';
      const showDef = data.showDefinitions && data.showDefinitions[player.id];
      
      let defUrl = '#';
      if (data.currentWordType === 'person') {
        defUrl = `https://en.wikipedia.org/wiki/${data.currentWord.replace(/ /g, '_')}`;
      } else if (data.currentWordType === 'fancy') {
        defUrl = `https://www.thesaurus.com/browse/${data.currentWord.toLowerCase()}`;
      } else {
        defUrl = `https://www.dictionary.com/browse/${data.currentWord.toLowerCase()}`;
      }
      
      return `
        <div class="rounded-lg shadow-md p-4 border-2" style="background-color: #F5E6D3; border-color: ${borderColor};">
          <h4 class="font-semibold text-lg mb-3">${player.name}</h4>
          ${canSee ? `
            <div class="rounded-lg p-4 mb-3" style="background-color: #E8F4D0;">
              <p class="text-xl md:text-2xl font-bold text-center break-words" style="color: #5E5394;">${data.currentWord}</p>
            </div>
            <button onclick="toggleDef(${player.id})" class="w-full px-4 py-2 text-white rounded-lg mb-2 text-sm" style="background-color: #E85987;">${showDef ? 'Hide' : 'Show'} Info</button>
            ${showDef ? `<a href="${defUrl}" target="_blank" class="block w-full px-4 py-2 text-center text-white rounded-lg text-sm" style="background-color: #5E5394;">View Definition</a>` : ''}
          ` : `
            <div class="bg-gray-200 rounded-lg p-4 text-center">
              <p class="text-gray-500 font-medium">Word Hidden</p>
            </div>
          `}
        </div>
      `;
    }

    function canPlayerSeeWord(player, data) {
      if (!data.currentWord) return false;
      if (data.gameMode === 'all_see') return true;
      if (data.gameMode === 'team_alternate') {
        if (!player.team) return true;
        const teamASees = data.round % 2 === 1;
        return (player.team === 'A' && teamASees) || (player.team === 'B' && !teamASees);
      }
      if (data.gameMode === 'random_player') {
        return player.id !== data.excludedPlayer;
      }
      return false;
    }

    window.setTeam = async function(id, team) {
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        const players = data.players.map(p => p.id === id ? { ...p, team } : p);
        await update(ref(db, `rooms/${window.roomCode}`), { players });
      }, { onlyOnce: true });
    };

    window.removePlayer = async function(id) {
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        const players = data.players.filter(p => p.id !== id);
        await update(ref(db, `rooms/${window.roomCode}`), { players });
      }, { onlyOnce: true });
    };

    window.randomizeTeams = async function() {
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        if (!data.players || data.players.length < 2) return alert('Need 2+ players');
        
        const shuffled = [...data.players].sort(() => Math.random() - 0.5);
        const mid = Math.ceil(shuffled.length / 2);
        const players = shuffled.map((p, i) => ({ ...p, team: i < mid ? 'A' : 'B' }));
        await update(ref(db, `rooms/${window.roomCode}`), { players });
      }, { onlyOnce: true });
    };

    window.setGameMode = async function(mode) {
      await update(ref(db, `rooms/${window.roomCode}`), { gameMode: mode });
    };

    window.toggleCategory = async function(cat) {
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        const cats = data.wordCategories || {};
        cats[cat] = !cats[cat];
        await update(ref(db, `rooms/${window.roomCode}`), { wordCategories: cats });
      }, { onlyOnce: true });
    };

    window.generateWord = async function() {
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        let pool = [];
        if (data.wordCategories.nouns) pool.push(...window.WORDS.nouns.map(w => ({ word: w, type: 'noun' })));
        if (data.wordCategories.adjectives) pool.push(...window.WORDS.adjectives.map(w => ({ word: w, type: 'adjective' })));
        if (data.wordCategories.fancyWords) pool.push(...window.WORDS.fancyWords.map(w => ({ word: w, type: 'fancy' })));
        if (data.wordCategories.famousPeople) pool.push(...window.WORDS.famousPeople.map(w => ({ word: w, type: 'person' })));
        
        if (pool.length === 0) return alert('Select a category');
        
        const item = pool[Math.floor(Math.random() * pool.length)];
        const updates = {
          currentWord: item.word,
          currentWordType: item.type,
          round: (data.round || 0) + 1,
          showDefinitions: {},
          submissions: {},
          bettingMode: false,
          bets: {}
        };
        
        if (data.gameMode === 'random_player' && data.players && data.players.length > 0) {
          updates.excludedPlayer = data.players[Math.floor(Math.random() * data.players.length)].id;
        }
        
        await update(ref(db, `rooms/${window.roomCode}`), updates);
        clearCanvas();
        document.getElementById('textAnswer').value = '';
        document.getElementById('submitBtn').disabled = false;
        document.getElementById('submitBtn').textContent = 'Submit Answer';
        
        // Auto-start timer with default time
        const defaultTimer = data.defaultTimer || 60;
        autoStartTimer(defaultTimer);
      }, { onlyOnce: true });
    };

    window.toggleDef = async function(playerId) {
      onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
        const data = snap.val();
        const defs = data.showDefinitions || {};
        defs[playerId] = !defs[playerId];
        await update(ref(db, `rooms/${window.roomCode}`), { showDefinitions: defs });
      }, { onlyOnce: true });
    };

    window.leaveRoom = async function() {
      if (window.currentPlayerId && window.roomCode) {
        onValue(ref(db, `rooms/${window.roomCode}`), async (snap) => {
          const data = snap.val();
          if (data && data.players) {
            const players = data.players.filter(p => p.id !== window.currentPlayerId);
            await update(ref(db, `rooms/${window.roomCode}`), { players });
          }
        }, { onlyOnce: true });
      }
      
      if (timerInterval) clearInterval(timerInterval);
      window.roomCode = null;
      window.currentPlayerId = null;
      window.currentPlayerName = null;
      document.getElementById('gameRoom').classList.add('hidden');
      document.getElementById('lobby').classList.remove('hidden');
    };
  </script>
</body>
</html>
